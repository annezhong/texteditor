import{f as w,p as z,B as At,T as Mt,E as C,N as S,n as H,a as A,m as $,V as M,I as Lt,b as bt,P as Tt,S as Rt,c as Et,d as Ft,e as It,G as Bt,U as zt,C as jt,g as Pt,H as Dt,h as Ot,i as Nt,j as Vt,L as qt,k as Ut,l as Xt,F as Wt,o as Yt,q as Gt,r as Jt,s as Qt,t as j,u as Zt}from"./vendor.bf0038e3.js";const Kt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}};Kt();var en=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{height:"600px"}},[t("er-vue-editor",{ref:"editor",attrs:{config:e.config},model:{value:e.html,callback:function(i){e.html=i},expression:"html"}})],1),t("div",[t("el-button",{on:{click:e.getHtml}},[e._v("\u83B7\u53D6HTML")]),t("el-button",{on:{click:e.getCode}},[e._v("\u83B7\u53D6\u4EE3\u7801")]),t("el-button",{on:{click:e.createDialog}},[e._v("\u521B\u5EFA\u5BF9\u8BDD\u6846")]),t("el-button",{on:{click:e.setBorder}},[e._v("\u6DFB\u52A0\u8FB9\u6846")]),t("el-input",{model:{value:e.border,callback:function(i){e.border=i},expression:"border"}})],1)])},tn=[];function l(e,n,t,i,r,o,s,c){var a=typeof e=="function"?e.options:e;n&&(a.render=n,a.staticRenderFns=t,a._compiled=!0),i&&(a.functional=!0),o&&(a._scopeId="data-v-"+o);var d;if(s?(d=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(h=__VUE_SSR_CONTEXT__),r&&r.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(s)},a._ssrRegister=d):r&&(d=c?function(){r.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:r),d)if(a.functional){a._injectStyles=d;var p=a.render;a.render=function(m,g){return d.call(g),p(m,g)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,d):[d]}return{exports:e,options:a}}const nn={components:{},data(){return{border:1,html:"",config:{upload_auto:!0,upload_server:"/api/upload"}}},watch:{html:function(){}},methods:{getHtml:function(){console.log(this.$refs.editor.getHTML())},getCode:function(){console.log(this.$refs.editor.getJSON())},createDialog:function(){var e=this.$refs.editor.editor,n=this.$refs.editor.selection;console.log("selection",n),e.chain().command(({tr:t})=>(t.setSelection(n),!0))},setBorder:function(){var e=this.$refs.editor.editor;e.commands.setBorder({borderLeft:this.border+"px solid #f00"})}}},V={};var rn=l(nn,en,tn,!1,on,null,null,null);function on(e){for(let n in V)this[n]=V[n]}var sn=function(){return rn.exports}(),P={computed:{editorconfig:function(){var e=Object.assign({},this.$ER_EDITOR||{},this.editor?this.editor.options.parames||{}:{}),n={};for(var t in e){var i=t.replace("upload_","");n[i]=e[t]}return n}},methods:{uploadErrorMsg(e){var n="\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25";switch(e){case"Q_TYPE_DENIED":n="\u6587\u4EF6\u683C\u5F0F\u4E0D\u7B26\u5408\u8981\u6C42";break;case"Q_EXCEED_NUM_LIMIT":n="\u6700\u591A\u4E0A\u4F20"+arguments[1]+"\u4E2A\u6587\u4EF6";break;case"Q_EXCEED_SIZE_LIMIT":n="\u6587\u4EF6\u603B\u5BB9\u91CF\u8D85\u51FA\u9650\u5236\uFF0C\u6700\u5927"+this.formatSize(arguments[1]);break;case"F_LIMIT_WIDTH":n="\u8D85\u51FA\u9650\u5236\u5BBD\u5EA6";break;case"F_LIMIT_HEIGHT":n="\u8D85\u51FA\u9650\u5236\u9AD8\u5EA6";break;case"F_EXCEED_SIZE":n="\u5355\u6587\u4EF6\u5BB9\u91CF\u8D85\u51FA\u9650\u5236\uFF0C\u6700\u5927"+this.formatSize(arguments[1]);break;case"F_NAME_FILTER":n="\u6587\u4EF6\u540D\u4E2D\u5305\u542B\u7279\u6B8A\u5B57\u7B26\uFF1A"+arguments[1].join(",");break;case"F_FORMAT_FILTER":n="\u9650\u5236\u6587\u4EF6\u683C\u5F0F";break;case"F_DUPLICATE":n="\u6587\u4EF6\u540D\u91CD\u590D";break;default:n=e;break}n=n||"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25",this.$alert(n,"\u9519\u8BEF\u63D0\u793A")}}};var u={mixins:[P],inject:["tiptap"],computed:{editor:function(){return this.tiptap?this.tiptap.editor:null}},methods:{hideAll:function(){this.$floatmenu.close(),this.$edpopover.close()}}},an=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-arrow-go-back-fill",{disabled:!(e.editor&&e.editor.can().undo())}],on:{click:function(i){e.editor.chain().focus().undo().run()}}})},ln=[];const cn={mixins:[u]},q={};var dn=l(cn,an,ln,!1,un,null,null,null);function un(e){for(let n in q)this[n]=q[n]}var pn=function(){return dn.exports}(),hn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-arrow-go-forward-fill",{disabled:!(e.editor&&e.editor.can().redo())}],on:{click:function(i){e.editor.chain().focus().redo().run()}}})},fn=[];const vn={mixins:[u]},U={};var gn=l(vn,hn,fn,!1,_n,null,null,null);function _n(e){for(let n in U)this[n]=U[n]}var mn=function(){return gn.exports}(),bn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-brush-3-line"})},$n=[];const kn={},X={};var yn=l(kn,bn,$n,!1,xn,null,null,null);function xn(e){for(let n in X)this[n]=X[n]}var wn=function(){return yn.exports}(),Cn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-eraser-line"})},Sn=[];const Hn={},W={};var An=l(Hn,Cn,Sn,!1,Mn,null,null,null);function Mn(e){for(let n in W)this[n]=W[n]}var Ln=function(){return An.exports}(),Tn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-bold",{"is-active":e.editor?e.editor.isActive("bold"):!1}],on:{click:function(i){e.editor.chain().focus().toggleBold().run()}}})},Rn=[];const En={mixins:[u]},Y={};var Fn=l(En,Tn,Rn,!1,In,null,null,null);function In(e){for(let n in Y)this[n]=Y[n]}var Bn=function(){return Fn.exports}(),zn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-italic",{"is-active":e.editor?e.editor.isActive("italic"):!1}],on:{click:function(i){e.editor.chain().focus().toggleItalic().run()}}})},jn=[];const Pn={mixins:[u]},G={};var Dn=l(Pn,zn,jn,!1,On,null,null,null);function On(e){for(let n in G)this[n]=G[n]}var Nn=function(){return Dn.exports}(),Vn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-strikethrough",{"is-active":e.editor?e.editor.isActive("strike"):!1}],on:{click:function(i){e.editor.chain().focus().toggleStrike().run()}}})},qn=[];const Un={mixins:[u]},J={};var Xn=l(Un,Vn,qn,!1,Wn,null,null,null);function Wn(e){for(let n in J)this[n]=J[n]}var Yn=function(){return Xn.exports}(),Gn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-underline",{"is-active":e.editor?e.editor.isActive("underline"):!1}],on:{click:function(i){e.editor.chain().focus().toggleUnderline().run()}}})},Jn=[];const Qn={mixins:[u]},Q={};var Zn=l(Qn,Gn,Jn,!1,Kn,null,null,null);function Kn(e){for(let n in Q)this[n]=Q[n]}var ei=function(){return Zn.exports}(),ti=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:["ed-dropslot",{disabled:e.disabled}],on:{click:e.clickHandler}},[t("span",[e._t("default")],2),t("i",{class:e.arrow})])},ni=[];const ii={props:{disabled:{type:Boolean,default:function(){return!1}},arrow:{type:String,default:function(){return"el-icon-caret-bottom"}}},methods:{clickHandler:function(){this.$emit("click")}}},Z={};var ri=l(ii,ti,ni,!1,oi,null,null,null);function oi(e){for(let n in Z)this[n]=Z[n]}var v=function(){return ri.exports}();let F=!1;function I(e,n){const t=function(r){n.drag&&n.drag(r)},i=function(r){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,F=!1,n.end&&n.end(r)};e.addEventListener("mousedown",function(r){F||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",t),document.addEventListener("mouseup",i),F=!0,n.start&&n.start(r))})}const K=function(e,n,t){return[e,n*t/((e=(2-n)*t)<1?e:2-e)||0,e/2]},si=function(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1},ai=function(e){return typeof e=="string"&&e.indexOf("%")!==-1},b=function(e,n){si(e)&&(e="100%");const t=ai(e);return e=Math.min(n,Math.max(0,parseFloat(e))),t&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)},ee={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},te=function({r:e,g:n,b:t}){const i=function(r){r=Math.min(Math.round(r),255);const o=Math.floor(r/16),s=r%16;return""+(ee[o]||o)+(ee[s]||s)};return isNaN(e)||isNaN(n)||isNaN(t)?"":"#"+i(e)+i(n)+i(t)},B={A:10,B:11,C:12,D:13,E:14,F:15},_=function(e){return e.length===2?(B[e[0].toUpperCase()]||+e[0])*16+(B[e[1].toUpperCase()]||+e[1]):B[e[1].toUpperCase()]||+e[1]},li=function(e,n,t){n=n/100,t=t/100;let i=n;const r=Math.max(t,.01);let o,s;return t*=2,n*=t<=1?t:2-t,i*=r<=1?r:2-r,s=(t+n)/2,o=t===0?2*i/(r+i):2*n/(t+n),{h:e,s:o*100,v:s*100}},ne=function(e,n,t){e=b(e,255),n=b(n,255),t=b(t,255);const i=Math.max(e,n,t),r=Math.min(e,n,t);let o,s,c=i;const a=i-r;if(s=i===0?0:a/i,i===r)o=0;else{switch(i){case e:o=(n-t)/a+(n<t?6:0);break;case n:o=(t-e)/a+2;break;case t:o=(e-n)/a+4;break}o/=6}return{h:o*360,s:s*100,v:c*100}},k=function(e,n,t){e=b(e,360)*6,n=b(n,100),t=b(t,100);const i=Math.floor(e),r=e-i,o=t*(1-n),s=t*(1-r*n),c=t*(1-(1-r)*n),a=i%6,d=[t,s,o,o,c,t][a],p=[c,t,t,s,o,o][a],f=[o,o,c,t,t,s][a];return{r:Math.round(d*255),g:Math.round(p*255),b:Math.round(f*255)}};class ci{constructor(n){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",n=n||{};for(let t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this.doOnChange()}set(n,t){if(arguments.length===1&&typeof n=="object"){for(let i in n)n.hasOwnProperty(i)&&this.set(i,n[i]);return}this["_"+n]=t,this.doOnChange()}get(n){return this["_"+n]}toRgb(){return k(this._hue,this._saturation,this._value)}toHex(){return te(k(this._hue,this._saturation,this._value))}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(i,r,o)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(n.indexOf("hsl")!==-1){const i=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=Math.floor(parseFloat(i[3])*100):i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:o,v:s}=li(i[0],i[1],i[2]);t(r,o,s)}}else if(n.indexOf("hsv")!==-1){const i=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));i.length===4?this._alpha=Math.floor(parseFloat(i[3])*100):i.length===3&&(this._alpha=100),i.length>=3&&t(i[0],i[1],i[2])}else if(n.indexOf("rgb")!==-1){const i=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=Math.floor(parseFloat(i[3])*100):i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:o,v:s}=ne(i[0],i[1],i[2]);t(r,o,s)}}else if(n.indexOf("#")!==-1){const i=n.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}|[0-9a-fA-F]{8}$/.test(i))return;let r,o,s;i.length===3?(r=_(i[0]+i[0]),o=_(i[1]+i[1]),s=_(i[2]+i[2])):(i.length===6||i.length===8)&&(r=_(i.substring(0,2)),o=_(i.substring(2,4)),s=_(i.substring(4,6))),i.length===8?this._alpha=Math.floor(_(i.substring(6))/255*100):(i.length===3||i.length===6)&&(this._alpha=100);const{h:c,s:a,v:d}=ne(r,o,s);t(c,a,d)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:t,_value:i,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":const s=K(n,t/100,i/100);this.value=`hsla(${n}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${r/100})`;break;case"hsv":this.value=`hsva(${n}, ${Math.round(t)}%, ${Math.round(i)}%, ${r/100})`;break;default:const{r:c,g:a,b:d}=k(n,t,i);this.value=`rgba(${c}, ${a}, ${d}, ${r/100})`}else switch(o){case"hsl":const s=K(n,t/100,i/100);this.value=`hsl(${n}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break;case"hsv":this.value=`hsv(${n}, ${Math.round(t)}%, ${Math.round(i)}%)`;break;case"rgb":const{r:c,g:a,b:d}=k(n,t,i);this.value=`rgb(${c}, ${a}, ${d})`;break;default:this.value=te(k(n,t,i))}}}var di=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ef-colorpicker"},[t("div",{staticClass:"ef-color-plate"},[t("div",{staticClass:"first"},[t("div",{staticClass:"left"},[t("div",{ref:"main",staticClass:"main",style:{"background-color":e.pickerconfig.color}},[t("div",{staticClass:"dark"}),t("div",{staticClass:"slider",style:e.mainslider})])]),t("div",{staticClass:"right"},[t("div",{ref:"deg",staticClass:"deg"},[t("div",{staticClass:"slider",style:e.degslider})])])]),t("div",{staticClass:"bottom"},[t("div",{ref:"opacity",staticClass:"opacity"},[t("div",{staticClass:"bar",style:e.opacitybar}),t("div",{staticClass:"slider",style:e.opacityslider})])])]),t("div",{staticClass:"ef-color-picker-form"},[t("div",{staticClass:"hex"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerconfig.hex,expression:"pickerconfig.hex"}],domProps:{value:e.pickerconfig.hex},on:{blur:e.hexChange,input:function(i){i.target.composing||e.$set(e.pickerconfig,"hex",i.target.value)}}})]),t("div",[e._v("Hex")])]),t("div",{staticClass:"r"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerconfig.r,expression:"pickerconfig.r"}],domProps:{value:e.pickerconfig.r},on:{blur:e.rgbChange,input:function(i){i.target.composing||e.$set(e.pickerconfig,"r",i.target.value)}}})]),t("div",[e._v("R")])]),t("div",{staticClass:"g"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerconfig.g,expression:"pickerconfig.g"}],domProps:{value:e.pickerconfig.g},on:{blur:e.rgbChange,input:function(i){i.target.composing||e.$set(e.pickerconfig,"g",i.target.value)}}})]),t("div",[e._v("G")])]),t("div",{staticClass:"b"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerconfig.b,expression:"pickerconfig.b"}],domProps:{value:e.pickerconfig.b},on:{blur:e.rgbChange,input:function(i){i.target.composing||e.$set(e.pickerconfig,"b",i.target.value)}}})]),t("div",[e._v("B")])]),t("div",{staticClass:"a"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pickerconfig.a,expression:"pickerconfig.a"}],domProps:{value:e.pickerconfig.a},on:{blur:e.rgbChange,input:function(i){i.target.composing||e.$set(e.pickerconfig,"a",i.target.value)}}})]),t("div",[e._v("A")])])])])},ui=[];const pi={data:function(){const e=new ci({enableAlpha:!0,format:"rgb"});return{pickerconfig:{color:"",r:"",g:"",b:"",a:"",hex:""},degheight:0,opacitywidth:0,opacitybar:{},degslider:{},opacityslider:{},mainslider:{},mainbar:{},mainwidth:0,mainheight:0,colors:e}},props:{value:{type:String,default:function(){return""}}},watch:{value:function(){this.colors.fromString(this.value)},colors:{deep:!0,handler:function(){this.changeColor()}}},mounted:function(){var e=this;this.colors.fromString(this.value),I(this.$refs.main,{drag:function(n){e.mainDrag(n)},end:function(n){e.mainDrag(n)}}),I(this.$refs.deg,{drag:function(n){e.degDrag(n)},end:function(n){e.degDrag(n)}}),I(this.$refs.opacity,{drag:function(n){e.opacityDrag(n)},end:function(n){e.opacityDrag(n)}}),this.init()},methods:{changePicker:function(){this.$emit("change",this.colors.value)},init:function(){this.changeColor()},degDrag:function(e){var n=this.$refs.deg,t=n.getBoundingClientRect(),i=e.clientY-t.top;t.height,i=Math.max(0,i),i=Math.min(i,t.height);var r=i/t.height*360;this.colors.set("hue",r),this.changePicker()},mainDrag:function(e){var n=this.$refs.main,t=n.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top;t.width,t.height,i=Math.max(0,i),i=Math.min(i,t.width),r=Math.max(0,r),r=Math.min(r,t.height),this.colors.set({saturation:i/t.width*100,value:100-r/t.height*100}),this.changePicker()},opacityDrag:function(e){var n=this.$refs.opacity,t=n.getBoundingClientRect(),i=e.clientX-t.left;i<0?i=0:i>t.width&&(i=t.width),this.colors.fromString("rgba("+this.pickerconfig.r+","+this.pickerconfig.g+","+this.pickerconfig.b+","+i/t.width+")"),this.changePicker()},changeColor:function(){const{r:e,g:n,b:t}=this.colors.toRgb();this.mainwidth=this.$refs.main.clientWidth,this.degheight=this.$refs.deg.clientHeight,this.mainheight=this.degheight,this.opacitywidth=this.$refs.opacity.clientWidth,this.pickerconfig.r=e,this.pickerconfig.g=n,this.pickerconfig.b=t,this.pickerconfig.a=this.colors._alpha,this.pickerconfig.hex=this.colors.toHex(),this.pickerconfig.color="hsl("+this.colors.get("hue")+", 100%, 50%)",this.opacitybar={"background-image":"linear-gradient(to right, rgba("+e+", "+n+", "+t+", 0) 0%, rgb("+e+", "+n+", "+t+") 100%)"};var i=this.degheight*this.colors.get("hue")/360,r=this.opacitywidth*this.colors._alpha/100;this.degslider={transform:"translateY("+i+"px)"},this.opacityslider={transform:"translateX("+r+"px)"};const o=this.colors.get("saturation"),s=this.colors.get("value");var c=this.mainwidth*o/100,a=this.mainheight*(100-s)/100;this.mainslider={transform:"translate("+c+"px,"+a+"px)"};var d="";this.pickerconfig.a==100?d=this.pickerconfig.hex:d="rgba("+this.pickerconfig.r+","+this.pickerconfig.g+","+this.pickerconfig.b+","+(this.pickerconfig.a/100).toFixed(2)+")",this.$emit("input",d)},convertColor:function(e){this.colors.fromString(e)},hexChange:function(){this.colors.fromString(this.pickerconfig.hex),this.changePicker()},rgbChange:function(){this.colors.fromString("rgba("+this.pickerconfig.r+","+this.pickerconfig.g+","+this.pickerconfig.b+","+this.pickerconfig.a/100+")"),this.changePicker()}}},ie={};var hi=l(pi,di,ui,!1,fi,null,null,null);function fi(e){for(let n in ie)this[n]=ie[n]}var vi=function(){return hi.exports}(),gi=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"er-editor-colors"},[t("div",{staticClass:"default"},[e._t("default")],2),t("div",{staticClass:"er-editor-colors-list"},e._l(e.colors,function(i,r){return t("span",{key:r,staticClass:"er-editor-colors-item",attrs:{title:i},on:{click:function(o){return e.clickHandler(r)}}},[t("span",{style:{"background-color":r}},[e.selectedColor==r?t("i",{staticClass:"el-icon-check"}):e._e()])])}),0),t("div",{staticClass:"history"},[t("div",{staticClass:"history-label"},[e._v("\u6700\u8FD1\u4F7F\u7528\u81EA\u5B9A\u4E49\u989C\u8272")]),t("div",{staticClass:"history-group"},e._l(e.historyColors,function(i,r){return t("span",{key:r,staticClass:"er-editor-colors-item",on:{click:function(o){return e.clickHandler(i)}}},[t("span",{style:{"background-color":i}},[e.selectedColor==i?t("i",{staticClass:"el-icon-check"}):e._e()])])}),0)]),t("el-popover",{attrs:{placement:"right-end",trigger:"hover",width:240,"popper-class":"er-editor-picker-popover er-editor-popper"},on:{hide:e.hideHandler}},[t("picker",{on:{change:e.clickHandler},model:{value:e.selectedColor,callback:function(i){e.selectedColor=i},expression:"selectedColor"}}),t("div",{staticClass:"other",attrs:{slot:"reference"},slot:"reference"},[t("span",[t("img",{attrs:{src:"https://gw.alipayobjects.com/mdn/rms_740edc/afts/img/A*G6CzS7jByMIAAAAAAAAAAABkARQnAQ"}}),t("label",[e._v("\u66F4\u591A\u989C\u8272")])]),t("span",[t("i",{staticClass:"el-icon-caret-right"})])])],1)],1)},_i=[];const mi={components:{picker:vi},data(){return{historyColors:[],colors:{"#000000":"\u9ED1\u8272","#262626":"\u6DF1\u7070 3","#595959":"\u6DF1\u7070 2","#8C8C8C":"\u6DF1\u7070 1","#BFBFBF":"\u7070\u8272","#D9D9D9":"\u6D45\u7070 4","#E9E9E9":"\u6D45\u7070 3","#F5F5F5":"\u6D45\u7070 2","#FAFAFA":"\u6D45\u7070 1","#FFFFFF":"\u767D\u8272","#F5222D":"\u7EA2\u8272","#FA541C":"\u6731\u7EA2","#FA8C16":"\u6A59\u8272","#FADB14":"\u9EC4\u8272","#52C41A":"\u7EFF\u8272","#13C2C2":"\u9752\u8272","#1890FF":"\u6D45\u84DD","#2F54EB":"\u84DD\u8272","#722ED1":"\u7D2B\u8272","#EB2F96":"\u73AB\u7EA2","#FFE8E6":"\u7EA2\u8272 1","#FFECE0":"\u6731\u7EA2 1","#FFEFD1":"\u6A59\u8272 1","#FCFCCA":"\u9EC4\u8272 1","#E4F7D2":"\u7EFF\u8272 1","#D3F5F0":"\u9752\u8272 1","#D4EEFC":"\u6D45\u84DD 1","#DEE8FC":"\u84DD\u8272 1","#EFE1FA":"\u7D2B\u8272 1","#FAE1EB":"\u73AB\u7EA2 1","#FFA39E":"\u7EA2\u8272 2","#FFBB96":"\u6731\u7EA2 2","#FFD591":"\u6A59\u8272 2","#FFFB8F":"\u9EC4\u8272 2","#B7EB8F":"\u7EFF\u8272 2","#87E8DE":"\u9752\u8272 2","#91D5FF":"\u6D45\u84DD 2","#ADC6FF":"\u84DD\u8272 2","#D3ADF7":"\u7D2B\u8272 2","#FFADD2":"\u73AB\u7EA2 2","#FF4D4F":"\u7EA2\u8272 3","#FF7A45":"\u6731\u7EA2 3","#FFA940":"\u6A59\u8272 3","#FFEC3D":"\u9EC4\u8272 3","#73D13D":"\u7EFF\u8272 3","#36CFC9":"\u9752\u8272 3","#40A9FF":"\u6D45\u84DD 3","#597EF7":"\u84DD\u8272 3","#9254DE":"\u7D2B\u8272 3","#F759AB":"\u73AB\u7EA2 3","#CF1322":"\u7EA2\u8272 4","#D4380D":"\u6731\u7EA2 4","#D46B08":"\u6A59\u8272 4","#D4B106":"\u9EC4\u8272 4","#389E0D":"\u7EFF\u8272 4","#08979C":"\u9752\u8272 4","#096DD9":"\u6D45\u84DD 4","#1D39C4":"\u84DD\u8272 4","#531DAB":"\u7D2B\u8272 4","#C41D7F":"\u73AB\u7EA2 4","#820014":"\u7EA2\u8272 5","#871400":"\u6731\u7EA2 5","#873800":"\u6A59\u8272 5","#614700":"\u9EC4\u8272 5","#135200":"\u7EFF\u8272 5","#00474F":"\u9752\u8272 5","#003A8C":"\u6D45\u84DD 5","#061178":"\u84DD\u8272 5","#22075E":"\u7D2B\u8272 5","#780650":"\u73AB\u7EA2 5"},selectedColor:this.value||"#000",defaultColor:"#000"}},value:{type:String,default:function(){return"#000"}},watch:{value:function(e){this.selectedColor=e}},mounted:function(){var e=localStorage.getItem("ed-colors");e&&(this.historyColors=e.replace(/,(#|r)/ig,"$$$$$1").split("$$"))},methods:{setHistory:function(){var e=this;this.selectedColor&&!this.colors[this.selectedColor]&&!this.historyColors.some(function(n){return n==e.selectedColor})&&(this.historyColors.push(this.selectedColor),localStorage.setItem("ed-colors",this.historyColors.join(",")))},clickHandler:function(e){this.selectedColor=e,this.$emit("input",e),this.$emit("select",e)},hideHandler:function(){this.setHistory()}}},re={};var bi=l(mi,gi,_i,!1,$i,null,null,null);function $i(e){for(let n in re)this[n]=re[n]}var D=function(){return bi.exports}(),ki=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"er-editor-colorplate"},[t("el-popover",{attrs:{placement:"bottom","popper-class":"er-editor-colorplate-popover",trigger:"hover",width:264},on:{hide:e.hideHandler,show:e.showHandler}},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[e._t("reference")],2),t("colorPicker",{ref:"picker",on:{select:e.clickHandler},model:{value:e.selectedColor,callback:function(i){e.selectedColor=i},expression:"selectedColor"}},[t("template",{slot:"default"},[e._t("default")],2)],2),e._t("other")],2)],1)},yi=[];const xi={components:{dropslot:v,colorPicker:D},data(){return{selectedColor:this.value||"#000"}},props:{value:{type:String,default:function(){return"#000"}}},watch:{value:function(e){this.selectedColor=e}},methods:{showHandler:function(){this.$emit("show")},hideHandler:function(){this.$refs.picker.setHistory()},clickHandler:function(e){this.selectedColor=e,this.$emit("select",e)}}},oe={};var wi=l(xi,ki,yi,!1,Ci,null,null,null);function Ci(e){for(let n in oe)this[n]=oe[n]}var $t=function(){return wi.exports}(),Si=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("colorplate",{attrs:{value:e.editor?e.editor.getAttributes("textStyle").color:"#000"},on:{show:e.hideAll,select:e.selectHandler}},[t("template",{slot:"default"},[t("span",{staticClass:"er-editor-colors-item",on:{click:function(i){return e.selectHandler(e.defaultColor)}}},[t("span",{style:{"background-color":e.defaultColor}},[(e.editor?e.editor.getAttributes("textStyle").color:"#000")==e.defaultColor?t("i",{staticClass:"el-icon-check"}):e._e()])]),t("label",[e._v("\u9ED8\u8BA4\u989C\u8272")])]),t("span",{staticClass:"ed-fontcolor",attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-font-family"}),t("span",{style:{background:e.editor&&e.editor.getAttributes("textStyle").color||"#000"}})])],2)},Hi=[];const Ai={mixins:[u],components:{colorplate:$t},data(){return{defaultColor:"#000"}},methods:{selectHandler:function(e){this.editor.commands.setColor(e)}}},se={};var Mi=l(Ai,Si,Hi,!1,Li,null,null,null);function Li(e){for(let n in se)this[n]=se[n]}var Ti=function(){return Mi.exports}(),Ri=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("colorplate",{on:{select:e.selectHandler,show:e.hideAll},model:{value:e.color,callback:function(i){e.color=i},expression:"color"}},[t("template",{slot:"default"},[t("span",{staticClass:"er-editor-colors-item",on:{click:function(i){return e.clearHandler()}}},[t("span",{staticClass:"nocolor"},[t("i")])]),t("label",[e._v("\u65E0\u586B\u5145\u8272")])]),t("span",{staticClass:"ed-fontcolor",attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-paint-fill"}),t("span",{style:{background:e.color}})])],2)},Ei=[];const Fi={mixins:[u],components:{colorplate:$t},data(){return{color:""}},methods:{selectHandler:function(e){this.editor.commands.toggleHighlight({color:e})},clearHandler:function(){this.editor.commands.unsetHighlight()}}},ae={};var Ii=l(Fi,Ri,Ei,!1,Bi,null,null,null);function Bi(e){for(let n in ae)this[n]=ae[n]}var zi=function(){return Ii.exports}(),ji=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover",width:120,"popper-class":"ed-textalign-popover"}},[t("div",{staticClass:"ed-textalign",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{class:"editorIcon ed-align-"+e.position})])],1),t("div",{staticClass:"ed-textalign-list"},[t("i",{class:["editorIcon ed-align-left",{"is-active":e.editor?e.editor.isActive({textAlign:"left"}):!1}],on:{click:function(i){return e.selectHandler("left")}}}),t("i",{class:["editorIcon ed-align-center",{"is-active":e.editor?e.editor.isActive({textAlign:"center"}):!1}],on:{click:function(i){return e.selectHandler("center")}}}),t("i",{class:["editorIcon ed-align-right",{"is-active":e.editor?e.editor.isActive({textAlign:"right"}):!1}],on:{click:function(i){return e.selectHandler("right")}}}),t("i",{class:["editorIcon ed-align-justify",{"is-active":e.editor?e.editor.isActive({textAlign:"justify"}):!1}],on:{click:function(i){return e.selectHandler("justify")}}})])])},Pi=[];const Di={mixins:[u],components:{dropslot:v},computed:{position:function(){if(this.editor&&this.editor.isActive){if(this.editor.isActive({textAlign:"left"}))return"left";if(this.editor.isActive({textAlign:"center"}))return"center";if(this.editor.isActive({textAlign:"right"}))return"right";if(this.editor.isActive({textAlign:"justify"}))return"justify"}return"left"}},methods:{selectHandler:function(e){this.editor.chain().focus().setTextAlign(e).run()}}},le={};var Oi=l(Di,ji,Pi,!1,Ni,null,null,null);function Ni(e){for(let n in le)this[n]=le[n]}var Vi=function(){return Oi.exports}(),qi=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-list-check",{"is-active":e.editor?e.editor.isActive("bulletList"):!1}],on:{click:e.clickHandler}})},Ui=[];const Xi={mixins:[u],methods:{clickHandler:function(){this.editor.commands.toggleBulletList()}}},ce={};var Wi=l(Xi,qi,Ui,!1,Yi,null,null,null);function Yi(e){for(let n in ce)this[n]=ce[n]}var Gi=function(){return Wi.exports}(),Ji=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-list-ordered-2",{"is-active":e.editor?e.editor.isActive("orderedList"):!1}],on:{click:e.clickHandler}})},Qi=[];const Zi={mixins:[u],methods:{clickHandler:function(){this.editor.commands.toggleOrderedList()}}},de={};var Ki=l(Zi,Ji,Qi,!1,er,null,null,null);function er(e){for(let n in de)this[n]=de[n]}var tr=function(){return Ki.exports}(),nr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover","popper-class":"ed-increase-popover"}},[t("div",{staticClass:"ed-increase",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-indent-increase"})])],1),t("div",{staticClass:"ed-increase-list"},[t("div",{on:{click:e.addIndent}},[t("i",{staticClass:"editorIcon ed-indent-increase"}),e._v(" \u589E\u52A0\u7F29\u8FDB ")]),t("div",{on:{click:e.removeIndent}},[t("i",{staticClass:"editorIcon ed-indent-decrease"}),e._v(" \u51CF\u5C11\u7F29\u8FDB ")])])])},ir=[];const rr={mixins:[u],components:{dropslot:v},methods:{addIndent:function(){var e=this.editor.getAttributes("paragraph").textIndent;this.editor.commands.updateAttributes("paragraph",{textIndent:e+2})},removeIndent:function(){var e=this.editor.getAttributes("paragraph").textIndent;e=e-2,e<0&&(e=0),this.editor.commands.updateAttributes("paragraph",{textIndent:e})}}},ue={};var or=l(rr,nr,ir,!1,sr,null,null,null);function sr(e){for(let n in ue)this[n]=ue[n]}var ar=function(){return or.exports}(),lr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover","popper-class":"ed-lineheight-popover"}},[t("div",{staticClass:"ed-lineheight",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-line-height"})])],1),t("div",{staticClass:"ed-lineheight-list"},e._l(e.lineheights,function(i,r){return t("div",{staticClass:"ed-lineheight-item",on:{click:function(o){return e.clickHandler(i)}}},[t("span",{staticClass:"check"},[e.selected==i?t("i",{staticClass:"el-icon-check"}):e._e()]),t("label",[e._v(e._s(i==""?"\u9ED8\u8BA4":i))])])}),0)])},cr=[];const dr={mixins:[u],components:{dropslot:v},data(){return{selected:"",lineheights:["","1.15","1.5","2","2.5","3"]}},methods:{clickHandler:function(e){this.selected=e,e?this.editor.commands.setLineHeight(e):this.editor.commands.unsetLineHeight()}}},pe={};var ur=l(dr,lr,cr,!1,pr,null,null,null);function pr(e){for(let n in pe)this[n]=pe[n]}var hr=function(){return ur.exports}(),fr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:e.placement,trigger:e.trigger,"popper-class":"ed-table-popover"},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[t("div",{staticClass:"ed-table",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference",arrow:e.arrow},slot:"reference"},[t("i",{staticClass:"editorIcon ed-table-2"}),e._v(e._s(e.text)+" ")])],1),t("div",{staticClass:"ed-table-list"},[t("div",{staticClass:"ed-table-prompt"},[t("label",[e._v(e._s(e.x))]),t("i",{staticClass:"el-icon-close"}),t("label",[e._v(e._s(e.y))])]),e._l(e.ymax,function(i){return t("div",{key:"line_"+i,staticClass:"ed-table-row"},e._l(e.xmax,function(r){return t("span",{key:"row_"+r,class:["ed-table-cell",{active:e.x>=r&&e.y>=i}],on:{click:function(o){return e.clickHandler(r,i)},mouseover:function(o){return e.mouseoverHandler(i,r)}}})}),0)})],2)])},vr=[];const gr={mixins:[u],components:{dropslot:v},props:{arrow:{type:String,default:function(){return"el-icon-caret-bottom"}},text:{type:String,default:function(){return""}},placement:{type:String,default:function(){return"bottom-start"}},trigger:{type:String,default:function(){return"click"}}},data:function(){return{x:0,y:0,xmax:10,ymax:10,visible:!1}},methods:{mouseoverHandler:function(e,n){this.x=n,this.y=e},clickHandler:function(e,n){this.visible=!1;for(var t=[],i=[],r=0;r<e;r++)t.push({type:"tableHeader",content:[{type:"paragraph"}]});for(var r=1;r<n;r++){for(var o=[],s=0;s<e;s++)o.push({type:"tableCell",content:[{type:"paragraph"}]});i.push({type:"tableRow",content:o})}var c={type:"resize",attrs:{dataid:"resize_"+parseInt(Math.random()*1e6)},content:[{type:"table",content:[{type:"tableRow",content:t}].concat(i)}]};this.editor.commands.insertContent(c)}}},he={};var _r=l(gr,fr,vr,!1,mr,null,null,null);function mr(e){for(let n in he)this[n]=he[n]}var kt=function(){return _r.exports}(),br=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:e.placement,trigger:e.trigger,"popper-class":"ed-image-popover"},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference",arrow:e.arrow},slot:"reference"},[t("i",{staticClass:"editorIcon ed-image-fill"}),e._v(e._s(e.text)+" ")])],1),t("div",{staticClass:"ed-image-list"},[t("div",{on:{click:e.clickHandler}},[e._v("\u672C\u5730\u56FE\u7247")]),t("div",{on:{click:e.srcHandler}},[e._v("\u56FE\u7247\u94FE\u63A5")])])])},$r=[];const kr={mixins:[u],components:{dropslot:v},props:{arrow:{type:String,default:function(){return"el-icon-caret-bottom"}},text:{type:String,default:function(){return""}},placement:{type:String,default:function(){return"bottom-start"}},trigger:{type:String,default:function(){return"click"}}},data(){return{visible:!1,myfqueue:null}},methods:{srcHandler:function(){this.visible=!1,this.tiptap.$refs.image.open()},clickHandler:function(){this.visible=!1;var e=this,n=this.myfqueue,t=null;n||(n=this.myfqueue=new w(Object.assign({accept:"jpg,png,gif",compress:!1},this.editorconfig)),n.on("change",function(){t=e.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}),n.on("error",function(){e.uploadErrorMsg(...arguments),t.close()}),n.on("uploadError",function(){e.uploadErrorMsg(...arguments)}),n.on("uploadComplete",function(){t.close()}),n.on("uploadAccept",function(){if(e.editorconfig.uploadAccept)return e.editorconfig.uploadAccept.call(e,...arguments)}),n.on("uploadSuccess",function(i,r){e.editorconfig.uploadSuccess&&e.editorconfig.uploadSuccess.call(e,i,r),e.tiptap.$emit("uploadSuccess",i,r);var o="image_"+parseInt(Math.random()*1e6);e.editor.commands.insertContent('<img data-id="'+o+'"src="'+(i.url||i.base64)+'" />')})),n.open()}}},fe={};var yr=l(kr,br,$r,!1,xr,null,null,null);function xr(e){for(let n in fe)this[n]=fe[n]}var yt=function(){return yr.exports}(),wr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:e.placement,trigger:e.trigger,"popper-class":"ed-image-popover"},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference",arrow:e.arrow},slot:"reference"},[t("i",{staticClass:"editorIcon ed-video-line"}),e._v(e._s(e.text)+" ")])],1),t("div",{staticClass:"ed-image-list"},[t("div",{on:{click:e.clickHandler}},[e._v("\u672C\u5730\u89C6\u9891")]),t("div",{on:{click:e.srcHandler}},[e._v("\u89C6\u9891\u94FE\u63A5")])])])},Cr=[];const Sr={mixins:[u],components:{dropslot:v},props:{arrow:{type:String,default:function(){return"el-icon-caret-bottom"}},text:{type:String,default:function(){return""}},placement:{type:String,default:function(){return"bottom-start"}},trigger:{type:String,default:function(){return"click"}}},data(){return{visible:!1,myfqueue:null}},methods:{clickHandler(){this.visible=!1;var e=this,n=this.myfqueue,t=null;n||(n=this.myfqueue=new w(Object.assign({accept:"mp4",server:"/api/upload",auto:!1},this.editorconfig)),n.on("change",function(){t=e.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}),n.on("error",function(){e.uploadErrorMsg(...arguments),t.close()}),n.on("uploadError",function(){e.uploadErrorMsg(...arguments)}),n.on("uploadComplete",function(){t.close()}),n.on("uploadAccept",function(){if(e.editorconfig.uploadAccept)return e.editorconfig.uploadAccept.call(e,...arguments)}),n.on("uploadSuccess",function(i,r){e.editorconfig.uploadSuccess&&e.editorconfig.uploadSuccess.call(e,i,r),e.tiptap.$emit("uploadSuccess",i,r),e.editor.commands.setVideo({src:i.url||i.base64})})),n.open()},srcHandler(){this.visible=!1,this.tiptap.$refs.video.open()}}},ve={};var Hr=l(Sr,wr,Cr,!1,Ar,null,null,null);function Ar(e){for(let n in ve)this[n]=ve[n]}var xt=function(){return Hr.exports}(),Mr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:e.placement,trigger:e.trigger,"popper-class":"ed-image-popover"},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference",arrow:e.arrow},slot:"reference"},[t("i",{staticClass:"editorIcon ed-music-2-line"}),e._v(e._s(e.text)+" ")])],1),t("div",{staticClass:"ed-image-list"},[t("div",{on:{click:e.clickHandler}},[e._v("\u672C\u5730\u97F3\u9891")]),t("div",{on:{click:e.srcHandler}},[e._v("\u97F3\u9891\u94FE\u63A5")])])])},Lr=[];const Tr={mixins:[u],components:{dropslot:v},props:{arrow:{type:String,default:function(){return"el-icon-caret-bottom"}},text:{type:String,default:function(){return""}},placement:{type:String,default:function(){return"bottom-start"}},trigger:{type:String,default:function(){return"click"}}},data(){return{visible:!1,myfqueue:null}},methods:{clickHandler(){this.visible=!1;var e=this,n=this.myfqueue,t=null;n||(n=this.myfqueue=new w(Object.assign({accept:"mp3",server:"/api/upload"},this.editorconfig)),n.on("change",function(){t=e.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}),n.on("error",function(){e.uploadErrorMsg(...arguments),t.close()}),n.on("uploadError",function(){e.uploadErrorMsg(...arguments)}),n.on("uploadComplete",function(){t.close()}),n.on("uploadAccept",function(){if(e.editorconfig.uploadAccept)return e.editorconfig.uploadAccept.call(e,...arguments)}),n.on("uploadSuccess",function(i,r){e.editorconfig.uploadSuccess&&e.editorconfig.uploadSuccess.call(e,i,r),e.tiptap.$emit("uploadSuccess",i,r),e.editor.commands.setAudio({src:i.url||i.base64})})),n.open()},srcHandler(){this.visible=!1,this.tiptap.$refs.video.open()}}},ge={};var Rr=l(Tr,Mr,Lr,!1,Er,null,null,null);function Er(e){for(let n in ge)this[n]=ge[n]}var wt=function(){return Rr.exports}(),Fr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-checkbox-line",{"is-active":e.editor?e.editor.isActive("taskList"):!1}],on:{click:function(i){e.editor.chain().focus().toggleTaskList().run()}}})},Ir=[];const Br={mixins:[u]},_e={};var zr=l(Br,Fr,Ir,!1,jr,null,null,null);function jr(e){for(let n in _e)this[n]=_e[n]}var Pr=function(){return zr.exports}(),Dr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-link-m"],on:{click:e.clickHandler}})},Or=[];const Nr={mixins:[u],methods:{clickHandler:function(){this.tiptap.$refs.link.open()}}},me={};var Vr=l(Nr,Dr,Or,!1,qr,null,null,null);function qr(e){for(let n in me)this[n]=me[n]}var Ur=function(){return Vr.exports}(),Xr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-double-quotes-l",{"is-active":e.editor?e.editor.isActive("blockquote"):!1}],on:{click:function(i){e.editor.chain().focus().toggleBlockquote().run()}}})},Wr=[];const Yr={mixins:[u]},be={};var Gr=l(Yr,Xr,Wr,!1,Jr,null,null,null);function Jr(e){for(let n in be)this[n]=be[n]}var Qr=function(){return Gr.exports}(),Zr=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-separator",on:{click:function(i){e.editor.chain().focus().setHorizontalRule().run()}}})},Kr=[];const eo={mixins:[u]},$e={};var to=l(eo,Zr,Kr,!1,no,null,null,null);function no(e){for(let n in $e)this[n]=$e[n]}var io=function(){return to.exports}(),ro=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover","popper-class":"ed-heading-popover"}},[t("div",{staticClass:"ed-tool-heading",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.headingText)+" ")])],1),t("div",{staticClass:"ed-heading-list"},e._l(e.list,function(i,r){return t("div",{key:i.level,staticClass:"ed-heading-item"},[t("div",{class:"ed-heading-level ed-heading-level"+i.level,on:{click:function(o){return e.clickHandler(i.level)}}},[t("span",{staticClass:"check"},[e.headlevel==i.level?t("i",{staticClass:"el-icon-check"}):e._e()]),t("label",[e._v(e._s(i.label))])])])}),0)])},oo=[];const so={mixins:[u],components:{dropslot:v},computed:{headingText:function(){var e=this.headlevel,n=this.list.find(function(t){return t.level==e});return n?n.label:"\u6B63\u6587"},headlevel:function(){var e=this.editor&&this.editor.getAttributes("heading").level||0;return e}},data:function(){return{list:[{label:"\u6B63\u6587",level:0},{label:"\u6807\u98981",level:1},{label:"\u6807\u98982",level:2},{label:"\u6807\u98983",level:3},{label:"\u6807\u98984",level:4},{label:"\u6807\u98985",level:5},{label:"\u6807\u98986",level:6}]}},methods:{clickHandler:function(e){e?(this.editor.getAttributes("textStyle").fontSize&&this.editor.commands.unsetFontSize(),this.editor.chain().focus().toggleHeading({level:e}).run()):this.editor.commands.setParagraph()}}},ke={};var ao=l(so,ro,oo,!1,lo,null,null,null);function lo(e){for(let n in ke)this[n]=ke[n]}var co=function(){return ao.exports}(),uo=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",disabled:!!e.headlevel,trigger:"hover","popper-class":"ed-fontsize-popover"}},[t("div",{staticClass:"ed-fontsize",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference",disabled:!!e.headlevel},slot:"reference"},[e._v(" "+e._s(e.sizeText)+" ")])],1),t("div",{staticClass:"ed-fontsize-list"},e._l(e.list,function(i,r){return t("div",{key:i.size,staticClass:"ed-fontsize-item",on:{click:function(o){return e.clickHandler(i.size)}}},[t("div",[t("span",{staticClass:"check"},[e.size==i.size?t("i",{staticClass:"el-icon-check"}):e._e()]),t("label",[e._v(e._s(i.label))])])])}),0)])},po=[];const ho={mixins:[u],components:{dropslot:v},computed:{sizeText:function(){var e=this.size,n=this.list.find(function(t){return t.size==e});if(n)return n.label},size:function(){return this.editor&&this.editor.getAttributes("textStyle").fontSize||0},headlevel:function(){var e=this.editor&&this.editor.getAttributes("heading").level||0;return e}},data:function(){return{list:[{label:"12px",size:12},{label:"13px",size:13},{label:"14px",size:0},{label:"15px",size:15},{label:"16px",size:16},{label:"19px",size:19},{label:"22px",size:22},{label:"24px",size:24},{label:"29px",size:29},{label:"32px",size:32},{label:"40px",size:40},{label:"48px",size:48}]}},methods:{clickHandler:function(e){e?this.editor.commands.setFontSize(e):this.editor.commands.unsetFontSize()}}},ye={};var fo=l(ho,uo,po,!1,vo,null,null,null);function vo(e){for(let n in ye)this[n]=ye[n]}var go=function(){return fo.exports}(),_o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-superscript",{"is-active":e.editor?e.editor.isActive("superscript"):!1}],on:{click:e.clickHnadler}})},mo=[];const bo={mixins:[u],methods:{clickHnadler:function(){this.editor.chain().focus().unsetSubscript().run(),this.editor.chain().focus().toggleSuperscript().run()}}},xe={};var $o=l(bo,_o,mo,!1,ko,null,null,null);function ko(e){for(let n in xe)this[n]=xe[n]}var yo=function(){return $o.exports}(),xo=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-subscript",{"is-active":e.editor?e.editor.isActive("subscript"):!1}],on:{click:e.clickHandler}})},wo=[];const Co={mixins:[u],methods:{clickHandler:function(){this.editor.chain().focus().unsetSuperscript().run(),this.editor.chain().focus().toggleSubscript().run()}}},we={};var So=l(Co,xo,wo,!1,Ho,null,null,null);function Ho(e){for(let n in we)this[n]=we[n]}var Ao=function(){return So.exports}(),Mo=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-artical"},[t("dropslot",{attrs:{arrow:""},on:{click:e.clickHandler}},[t("i",{staticClass:"editorIcon ed-file-text-line"}),e._v(e._s(e.text)+" ")])],1)},Lo=[];const To={mixins:[u],components:{dropslot:v},props:{text:{type:String,default:function(){return""}}},methods:{clickHandler:function(){debugger;var e=this.editor,n=this.editor.view.state.selection,t=n.ranges,i=e.view.dom;if(i.getBoundingClientRect(),t&&t.length){var r=t[t.length-1].$from.pos,o=t[t.length-1].$to.pos;z(e.view,r,o)}var s={type:"free",attrs:{dataid:"free_"+parseInt(Math.random()*1e6),borderLeft:"1px solid #000000",borderTop:"1px solid #000000",borderRight:"1px solid #000000",borderBottom:"1px solid #000000",paddingLeft:10,paddingTop:10,paddingRight:10,paddingBottom:10,width:200},content:[{type:"paragraph"}]};this.editor.commands.insertContent(s)}}},Ce={};var Ro=l(To,Mo,Lo,!1,Eo,null,null,null);function Eo(e){for(let n in Ce)this[n]=Ce[n]}var Fo=function(){return Ro.exports}(),Io=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover","popper-class":"ed-add-popover"}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-add-circle-fill"})])],1),t("div",{staticClass:"ed-add-list"},[t("div",{staticClass:"ed-add-item"},[t("edImage",{attrs:{arrow:"el-icon-arrow-right",trigger:"hover",placement:"right-start",text:"\u56FE\u7247"}})],1),t("div",{staticClass:"ed-add-item"},[t("edTable",{attrs:{arrow:"el-icon-arrow-right",trigger:"hover",placement:"right-start",text:"\u8868\u683C"}})],1),t("div",{staticClass:"ed-add-item"},[t("edVideo",{attrs:{arrow:"el-icon-arrow-right",trigger:"hover",placement:"right-start",text:"\u89C6\u9891"}})],1),t("div",{staticClass:"ed-add-item"},[t("edAudio",{attrs:{arrow:"el-icon-arrow-right",trigger:"hover",placement:"right-start",text:"\u97F3\u9891"}})],1),t("div",{staticClass:"ed-add-item"},[t("edArtical",{attrs:{trigger:"hover",placement:"right-start",text:"\u6587\u672C\u6846"}})],1)])])},Bo=[];const zo={components:{dropslot:v,edImage:yt,edTable:kt,edVideo:xt,edAudio:wt,edArtical:Fo},data(){return{visible:!1}}},Se={};var jo=l(zo,Io,Bo,!1,Po,null,null,null);function Po(e){for(let n in Se)this[n]=Se[n]}var Do=function(){return jo.exports}(),Oo=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"264"},on:{show:e.init}},[t("div",{staticClass:"ed-fontsize",attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-artboard-2-fill",attrs:{click:"",title:"\u9875\u9762\u5C5E\u6027"}})])],1),t("div",{staticClass:"ed-page"},[t("div",{staticClass:"ed-page-item"},[t("div",{staticClass:"title"},[e._v("\u8FB9\u8DDD")]),t("div",[t("el-input",{staticStyle:{width:"120px","margin-right":"20px","margin-bottom":"6px"},attrs:{size:"mini","prefix-icon":"el-icon-top"},on:{change:e.changePadding},model:{value:e.paddingTop,callback:function(i){e.paddingTop=i},expression:"paddingTop"}}),t("el-input",{staticStyle:{width:"120px","margin-bottom":"6px"},attrs:{size:"mini","prefix-icon":"el-icon-right"},on:{change:e.changePadding},model:{value:e.paddingRight,callback:function(i){e.paddingRight=i},expression:"paddingRight"}}),t("el-input",{staticStyle:{width:"120px","margin-right":"20px"},attrs:{size:"mini","prefix-icon":"el-icon-back"},on:{change:e.changePadding},model:{value:e.paddingLeft,callback:function(i){e.paddingLeft=i},expression:"paddingLeft"}}),t("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini","prefix-icon":"el-icon-bottom"},on:{change:e.changePadding},model:{value:e.paddingBottom,callback:function(i){e.paddingBottom=i},expression:"paddingBottom"}})],1)]),t("div",{staticClass:"ed-page-item"},[t("div",{staticClass:"title"},[e._v("\u80CC\u666F")]),t("div",[t("edBackground",{ref:"bg",attrs:{editor:e.editor,isPage:!0},on:{clear:e.clearHandler,change:e.changeBg}})],1)])])])},No=[];const Vo={mixins:[u],components:{dropslot:v},data(){return{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}},mounted:function(){},methods:{init:function(){var e=this.tiptap;this.paddingLeft=e.pageStyle.paddingLeft,this.paddingBottom=e.pageStyle.paddingBottom,this.paddingRight=e.pageStyle.paddingRight,this.paddingTop=e.pageStyle.paddingTop;var n={backgroundType:e.pageStyle.backgroundType,backgroundColor:e.pageStyle.backgroundColor,backgroundImage:e.pageStyle.backgroundImage,backgroundRepeat:e.pageStyle.backgroundRepeat,backgroundPosition:e.pageStyle.backgroundPosition,backgroundSize:e.pageStyle.backgroundSize};this.$refs.bg.init(n),this.hideAll()},changePadding:function(){var e={paddingLeft:this.paddingLeft,paddingRight:this.paddingRight,paddingBottom:this.paddingBottom,paddingTop:this.paddingTop};this.tiptap.setPage(e)},clearHandler:function(e){this.tiptap.setPage(e)},changeBg:function(e){this.tiptap.setPage(e)}}},He={};var qo=l(Vo,Oo,No,!1,Uo,null,null,null);function Uo(e){for(let n in He)this[n]=He[n]}var Xo=function(){return qo.exports}(),Wo=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover","popper-class":"ed-device-popover"}},[t("div",{attrs:{slot:"reference"},slot:"reference"},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{class:"editorIcon ed-"+e.device+"-line"})])],1),t("div",{staticClass:"ed-device-list"},[t("div",{on:{click:function(i){return e.changeDevice("computer")}}},[t("i",{staticClass:"editorIcon ed-computer-line"}),e._v(" \u7535\u8111")]),t("div",{on:{click:function(i){return e.changeDevice("smartphone")}}},[t("i",{staticClass:"editorIcon ed-smartphone-line"}),e._v(" \u624B\u673A")])])])},Yo=[];const Go={mixins:[u],components:{dropslot:v},data(){return{device:this.tiptap.device}},methods:{changeDevice:function(e){this.device=e,this.tiptap.changeDevice(e)}}},Ae={};var Jo=l(Go,Wo,Yo,!1,Qo,null,null,null);function Qo(e){for(let n in Ae)this[n]=Ae[n]}var Zo=function(){return Jo.exports}(),L={props:{editor:{type:Object,default:function(){return null}},options:{type:Object,default:function(){return null}}},methods:{setSelection(){if(this.options){var e=this.options.selection;e.$headCell?this.editor.commands.setCellSelection({anchorCell:e.$anchorCell.pos,headCell:e.$headCell.pos}):typeof e.pos!="undefined"?this.editor.commands.setNodeSelection(e.pos):this.editor.commands.setNodeSelection(e.$from.pos)}},getPos:function(){var e=this.options.selection;if(e.$headCell)return e.$headCell.pos;if(typeof e.pos!="undefined")return e.pos;if(e.$from)return e.$from.pos}}},Ko=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-block-style",staticStyle:{width:"264px"}},[t("colorpicker",{on:{select:e.setBorder},model:{value:e.borderColor,callback:function(i){e.borderColor=i},expression:"borderColor"}},[t("template",{slot:"default"},[t("span",{class:["er-editor-colors-item",{active:e.bordermode.length==0}],on:{click:function(i){return e.changeMode("")}}},[t("span",{staticClass:"nocolor"},[t("i")])]),t("span",{class:["er-editor-colors-item left",{active:e.bordermode.indexOf("left")!=-1}],on:{click:function(i){return e.changeMode("left")}}},[t("span",{staticClass:"nocolor"})]),t("span",{class:["er-editor-colors-item top",{active:e.bordermode.indexOf("top")!=-1}],on:{click:function(i){return e.changeMode("top")}}},[t("span",{staticClass:"nocolor"})]),t("span",{class:["er-editor-colors-item right",{active:e.bordermode.indexOf("right")!=-1}],on:{click:function(i){return e.changeMode("right")}}},[t("span",{staticClass:"nocolor"})]),t("span",{class:["er-editor-colors-item bottom",{active:e.bordermode.indexOf("bottom")!=-1}],on:{click:function(i){return e.changeMode("bottom")}}},[t("span",{staticClass:"nocolor"})])])],2),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u7EBF\u578B")]),t("div",[t("el-select",{attrs:{size:"mini","popper-class":"ed-block-style-b edpopover-popper"},on:{change:e.setBorder},model:{value:e.borderStyle,callback:function(i){e.borderStyle=i},expression:"borderStyle"}},[t("el-option",{attrs:{value:"solid",label:"\u5B9E\u7EBF"}},[t("span",{staticClass:"ed-block-style-border",staticStyle:{"border-bottom":"2px solid #888"}})]),t("el-option",{attrs:{value:"dashed",label:"\u865A\u7EBF"}},[t("span",{staticClass:"ed-block-style-border",staticStyle:{"border-bottom":"2px dashed #888"}})]),t("el-option",{attrs:{value:"dotted",label:"\u70B9\u7EBF"}},[t("span",{staticClass:"ed-block-style-border",staticStyle:{"border-bottom":"2px dotted #888"}})]),t("el-option",{attrs:{value:"double",label:"\u53CC\u7EBF"}},[t("span",{staticClass:"ed-block-style-border",staticStyle:{"border-bottom":"4px double #888"}})])],1)],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u5BBD\u5EA6")]),t("div",[t("el-input-number",{attrs:{size:"mini"},on:{change:e.setBorder},model:{value:e.borderWidth,callback:function(i){e.borderWidth=i},expression:"borderWidth"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u5706\u89D2")]),t("div",[t("div",{staticClass:"ed-block-style-radius"},[t("el-input",{attrs:{size:"mini"},on:{change:e.setRadius},model:{value:e.radiuslt,callback:function(i){e.radiuslt=i},expression:"radiuslt"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"l-t"})])],2),t("el-input",{attrs:{size:"mini"},on:{change:e.setRadius},model:{value:e.radiusrt,callback:function(i){e.radiusrt=i},expression:"radiusrt"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"r-t"})])],2),t("el-input",{attrs:{size:"mini"},on:{change:e.setRadius},model:{value:e.radiuslb,callback:function(i){e.radiuslb=i},expression:"radiuslb"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"r-b"})])],2),t("el-input",{attrs:{size:"mini"},on:{change:e.setRadius},model:{value:e.radiusrb,callback:function(i){e.radiusrb=i},expression:"radiusrb"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"l-b"})])],2)],1)])])],1)},es=[];const ts={name:"edBlockStyle",mixins:[L],components:{colorpicker:D},data(){return{bordermode:[],borderWidth:0,borderStyle:"solid",borderColor:"#000",radiuslt:0,radiusrt:0,radiuslb:0,radiusrb:0}},props:{isPlate:{type:Boolean,default:function(){return!0}}},mounted:function(){this.init()},methods:{close(){this.bordermode=[],this.borderWidth=0,this.borderStyle="solid",this.borderColor="#000",this.radiuslt=0,this.radiusrt=0,this.radiuslb=0,this.radiusrb=0},init(e){this.setSelection(),this.bordermode=[],this.borderWidth=0,this.borderStyle="solid",this.borderColor="#000",this.radiuslt=0,this.radiusrt=0,this.radiuslb=0,this.radiusrb=0,setTimeout(()=>{if(!e){var n=this.editor.view.state.selection,t=n.node;t&&(t.type.name,e=t.attrs)}if(e){var i=e.borderLeft,r=e.borderRight,o=e.borderTop,s=e.borderBottom,c=e.borderRadius,a=/([1-9]+)px/,d=0,p=null;if(i&&i!="0"&&(this.bordermode.push("left"),a.test(i)&&(d=parseInt(a.exec(i)[1]),p=i)),r&&r!="0"&&(this.bordermode.push("right"),a.test(r)&&(d||(d=parseInt(a.exec(r)[1])),p=r)),o&&o!="0"&&(this.bordermode.push("top"),a.test(o)&&(d||(d=parseInt(a.exec(o)[1])),p=o)),s&&s!="0"&&(this.bordermode.push("bottom"),a.test(s)&&(d||(d=parseInt(a.exec(s)[1])),p=s)),p){var f=p.split(" ");this.borderColor=f[2],this.borderStyle=f[1]}if(d&&(this.borderWidth=d),c){var h=c.split(" ");h.length==4&&(this.radiuslt=parseInt(h[0]),this.radiusrt=parseInt(h[1]),this.radiusrb=parseInt(h[2]),this.radiuslb=parseInt(h[3]))}}},100)},changeMode:function(e){if(!e)this.bordermode.splice(0,this.bordermode.length);else{var n=this.bordermode.indexOf(e);n==-1?this.bordermode.push(e):this.bordermode.splice(n,1)}this.setBorder()},setBorder:function(){var e=this,n={};try{if(this.bordermode){var t=this.bordermode.indexOf("left")!=-1?this.borderWidth+"px "+this.borderStyle+" "+this.borderColor:null,i=this.bordermode.indexOf("top")!=-1?this.borderWidth+"px "+this.borderStyle+" "+this.borderColor:null,r=this.bordermode.indexOf("right")!=-1?this.borderWidth+"px "+this.borderStyle+" "+this.borderColor:null,o=this.bordermode.indexOf("bottom")!=-1?this.borderWidth+"px "+this.borderStyle+" "+this.borderColor:null;n.borderLeft=t,n.borderTop=i,n.borderRight=r,n.borderBottom=o}else n={borderLeft:0,borderTop:0,borderRight:0,borderBottom:0};e.isPlate?(e.setSelection(),Object.assign(this.options.selection.node.attrs,n),this.editor.options.onUpdate({editor:this.options.editor}),this.setSelection()):e.$emit("change",n)}catch{}},setRadius:function(){var e=this.radiuslt+"px "+this.radiusrt+"px "+this.radiusrb+"px "+this.radiuslb+"px";this.isPlate?(this.setSelection(),Object.assign(this.options.selection.node.attrs,{borderRadius:e}),this.editor.options.onUpdate({editor:this.options.editor}),this.setSelection()):this.$emit("change",{borderRadius:e})}}},Me={};var ns=l(ts,Ko,es,!1,is,null,null,null);function is(e){for(let n in Me)this[n]=Me[n]}var Ct=function(){return ns.exports}(),rs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{trigger:"click","popper-class":"er-editor-colorplate-popover",placement:"bottom",width:264},on:{show:e.showHandler}},[t("dropslot",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"editorIcon ed-rounded-corner"})]),t("blockStyle",{ref:"block",attrs:{editor:e.editor,isPlate:!1},on:{change:e.changeHandler}}),t("div",{staticClass:"ed-block-style-form",staticStyle:{"padding-bottom":"20px"}},[t("span",[e._v("\u8FB9\u8DDD")]),t("div",[t("div",[t("span",{staticClass:"ed-block-style-item",staticStyle:{"margin-right":"10px","margin-bottom":"6px"}},[t("i",{staticClass:"el-icon-top"}),t("el-input-number",{staticStyle:{width:"65px"},attrs:{"controls-position":"right",size:"mini"},on:{change:e.changePadding},model:{value:e.paddingTop,callback:function(i){e.paddingTop=i},expression:"paddingTop"}})],1),t("span",{staticClass:"ed-block-style-item",staticStyle:{"margin-bottom":"6px"}},[t("i",{staticClass:"el-icon-right"}),t("el-input-number",{staticStyle:{width:"65px"},attrs:{"controls-position":"right",size:"mini"},on:{change:e.changePadding},model:{value:e.paddingRight,callback:function(i){e.paddingRight=i},expression:"paddingRight"}})],1),t("span",{staticClass:"ed-block-style-item",staticStyle:{"margin-right":"10px"}},[t("i",{staticClass:"el-icon-back"}),t("el-input-number",{staticStyle:{width:"65px"},attrs:{"controls-position":"right",size:"mini"},on:{change:e.changePadding},model:{value:e.paddingLeft,callback:function(i){e.paddingLeft=i},expression:"paddingLeft"}})],1),t("span",{staticClass:"ed-block-style-item"},[t("i",{staticClass:"el-icon-bottom"}),t("el-input-number",{staticStyle:{width:"65px"},attrs:{"controls-position":"right",size:"mini"},on:{change:e.changePadding},model:{value:e.paddingBottom,callback:function(i){e.paddingBottom=i},expression:"paddingBottom"}})],1)])])])],1)},os=[];const ss={mixins:[u],components:{dropslot:v,blockStyle:Ct},data(){return{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}},methods:{showHandler:function(){if(this.$refs.block){var e=this.editor.getAttributes("highlight");this.$refs.block.init(e)}this.hideAll()},changePadding:function(){var e={paddingLeft:this.paddingLeft,paddingTop:this.paddingTop,paddingRight:this.paddingRight,paddingBottom:this.paddingBottom};this.changeHandler(e)},changeHandler:function(e){this.editor.chain().command(({commands:n})=>{n.setMark("highlight",e)}).run()}}},Le={};var as=l(ss,rs,os,!1,ls,null,null,null);function ls(e){for(let n in Le)this[n]=Le[n]}var cs=function(){return as.exports}();const ds={components:{edBack:pn,edForward:mn,edBrush:wn,edEraser:Ln,edBold:Bn,edItalic:Nn,edStrike:Yn,edUnderline:ei,edColor:Ti,edHighlight:zi,edTextalign:Vi,edBulletlist:Gi,edOrderedlist:tr,edIncrease:ar,edLineheight:hr,edTable:kt,edImage:yt,edVideo:xt,edAudio:wt,edTasklist:Pr,edLink:Ur,edBlockquote:Qr,edHorizontal:io,edHeading:co,edFontsize:go,edSuperscript:yo,edSubscript:Ao,edAdd:Do,edPage:Xo,edDevice:Zo,edBorder:cs},props:{list:{type:Array,default:function(){return[]}}},render:function(e){var n=[];return this.list.forEach(function(t){t!="|"?n.push(e("ed-"+t,{class:"tools-item"})):n.push(e("el-divider",{props:{direction:"vertical"}}))}),e("div",{class:"er-editor-tools"},n)}};let us,ps;const Te={};var hs=l(ds,us,ps,!1,fs,null,null,null);function fs(e){for(let n in Te)this[n]=Te[n]}var vs=function(){return hs.exports}(),gs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-merge-cells-horizontal",{disabled:!(e.editor&&e.editor.can().mergeCells())}],attrs:{title:"\u5408\u5E76\u5355\u5143\u683C"},on:{click:function(i){e.editor.chain().focus().mergeCells().run()}}})},_s=[];const ms={mixins:[u]},Re={};var bs=l(ms,gs,_s,!1,$s,null,null,null);function $s(e){for(let n in Re)this[n]=Re[n]}var ks=function(){return bs.exports}(),ys=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-split-cells-horizontal",{disabled:!(e.editor&&e.editor.can().splitCell())}],attrs:{title:"\u62C6\u5206\u5355\u5143\u683C"},on:{click:function(i){e.editor.chain().focus().splitCell().run()}}})},xs=[];const ws={mixins:[u]},Ee={};var Cs=l(ws,ys,xs,!1,Ss,null,null,null);function Ss(e){for(let n in Ee)this[n]=Ee[n]}var Hs=function(){return Cs.exports}(),As=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-insert-row-top",{disabled:!(e.editor&&e.editor.can().addRowBefore())}],attrs:{title:"\u4E0A\u65B9\u63D2\u5165\u884C"},on:{click:function(i){e.editor.chain().focus().addRowBefore().run()}}})},Ms=[];const Ls={mixins:[u]},Fe={};var Ts=l(Ls,As,Ms,!1,Rs,null,null,null);function Rs(e){for(let n in Fe)this[n]=Fe[n]}var Es=function(){return Ts.exports}(),Fs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-insert-row-bottom",{disabled:!(e.editor&&e.editor.can().addRowAfter())}],attrs:{title:"\u4E0B\u65B9\u63D2\u5165\u884C"},on:{click:function(i){e.editor.chain().focus().addRowAfter().run()}}})},Is=[];const Bs={mixins:[u]},Ie={};var zs=l(Bs,Fs,Is,!1,js,null,null,null);function js(e){for(let n in Ie)this[n]=Ie[n]}var Ps=function(){return zs.exports}(),Ds=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-insert-column-left",{disabled:!(e.editor&&e.editor.can().addColumnBefore())}],attrs:{title:"\u5DE6\u4FA7\u63D2\u5165\u5217"},on:{click:function(i){e.editor.chain().focus().addColumnBefore().run()}}})},Os=[];const Ns={mixins:[u]},Be={};var Vs=l(Ns,Ds,Os,!1,qs,null,null,null);function qs(e){for(let n in Be)this[n]=Be[n]}var Us=function(){return Vs.exports}(),Xs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-insert-column-right",{disabled:!(e.editor&&e.editor.can().addColumnAfter())}],attrs:{title:"\u53F3\u4FA7\u63D2\u5165\u5217"},on:{click:function(i){e.editor.chain().focus().addColumnAfter().run()}}})},Ws=[];const Ys={mixins:[u]},ze={};var Gs=l(Ys,Xs,Ws,!1,Js,null,null,null);function Js(e){for(let n in ze)this[n]=ze[n]}var Qs=function(){return Gs.exports}(),Zs=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-delete-column",{disabled:!(e.editor&&e.editor.can().deleteColumn())}],attrs:{title:"\u5220\u9664\u5217"},on:{click:function(i){e.editor.chain().focus().deleteColumn().run()}}})},Ks=[];const ea={mixins:[u]},je={};var ta=l(ea,Zs,Ks,!1,na,null,null,null);function na(e){for(let n in je)this[n]=je[n]}var ia=function(){return ta.exports}(),ra=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-delete-row",{disabled:!(e.editor&&e.editor.can().deleteRow())}],attrs:{title:"\u5220\u9664\u884C"},on:{click:function(i){e.editor.chain().focus().deleteRow().run()}}})},oa=[];const sa={mixins:[u]},Pe={};var aa=l(sa,ra,oa,!1,la,null,null,null);function la(e){for(let n in Pe)this[n]=Pe[n]}var ca=function(){return aa.exports}(),da=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-delete-bin-line",{disabled:!(e.editor&&e.editor.can().deleteTable())}],attrs:{title:"\u5220\u9664\u8868\u683C"},on:{click:function(i){e.editor.chain().focus().deleteTable().run()}}})},ua=[];const pa={mixins:[u]},De={};var ha=l(pa,da,ua,!1,fa,null,null,null);function fa(e){for(let n in De)this[n]=De[n]}var va=function(){return ha.exports}(),ga=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-edit-2-line",attrs:{title:"\u7F16\u8F91\u94FE\u63A5"},on:{click:e.clickHandler}})},_a=[];const ma={mixins:[u],methods:{clickHandler:function(){this.tiptap.$refs.link.open()}}},Oe={};var ba=l(ma,ga,_a,!1,$a,null,null,null);function $a(e){for(let n in Oe)this[n]=Oe[n]}var ka=function(){return ba.exports}(),ya=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-link-unlink-m",attrs:{title:"\u53D6\u6D88\u94FE\u63A5"},on:{click:e.clickHandler}})},xa=[];const wa={mixins:[u],methods:{clickHandler:function(){this.editor.commands.unsetLink()}}},Ne={};var Ca=l(wa,ya,xa,!1,Sa,null,null,null);function Sa(e){for(let n in Ne)this[n]=Ne[n]}var Ha=function(){return Ca.exports}(),Aa=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{staticClass:"editorIcon ed-edit-2-line",attrs:{title:"\u7F16\u8F91\u56FE\u7247"},on:{click:e.editHandler}})},Ma=[];const La={mixins:[u],methods:{editHandler:function(){this.tiptap.$refs.image.open()}}},Ve={};var Ta=l(La,Aa,Ma,!1,Ra,null,null,null);function Ra(e){for(let n in Ve)this[n]=Ve[n]}var Ea=function(){return Ta.exports}(),Fa=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.editor?t("bubble-menu",{attrs:{editor:e.editor,"tippy-options":{duration:100}}},[e.operationTable?t("div",{staticClass:"er-editor-bubble"},[t("mergeCells"),t("splitCell"),t("el-divider",{attrs:{direction:"vertical"}}),t("insertRowTop"),t("insertRowBottom"),t("deleteRow"),t("el-divider",{attrs:{direction:"vertical"}}),t("insertColumnLeft"),t("insertColumnRight"),t("deleteColumn")],1):e.isLink?t("div",{staticClass:"er-editor-bubble"},[t("editLink"),t("unLink")],1):e._e()]):e._e()],1)},Ia=[];const Ba={mixins:[u],components:{mergeCells:ks,splitCell:Hs,BubbleMenu:At,insertRowTop:Es,insertRowBottom:Ps,insertColumnLeft:Us,insertColumnRight:Qs,deleteRow:ca,deleteColumn:ia,deleteTable:va,editLink:ka,unLink:Ha,editImage:Ea},computed:{isImage:function(){return this.editor.can().setImage()},operationTable:function(){var e=this.editor.can().mergeCells()||this.editor.can().splitCell()||this.editor.can().addRowBefore()||this.editor.can().addRowAfter();return e},isLink:function(){var e=this.editor.getAttributes("link");return!!e.href},showfloatmenu:function(){var e=this.editor?this.editor.isActive("image"):!1;return e}},data(){return{active:""}},watch:{showfloatmenu:function(e,n){e||(this.active="",this.$edpopover.close())}},methods:{shouldShow:function(){var e=this.editor?this.editor.isActive("image"):!1;return e},borderHandler:function(e){this.active="border",this.$edpopover.show(e.currentTarget,{x:10,editor:this.editor,modules:["edBlockStyle"]})}}},qe={};var za=l(Ba,Fa,Ia,!1,ja,null,null,null);function ja(e){for(let n in qe)this[n]=qe[n]}var Pa=function(){return za.exports}(),Da=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-dialog",{attrs:{title:"\u94FE\u63A5",visible:e.visibleDialog,"append-to-body":!0,width:"40rem"},on:{"update:visible":function(i){e.visibleDialog=i}}},[t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"\u94FE\u63A5\u5730\u5740"}},[e._t("default")],2),t("el-form-item",{attrs:{label:"\u6253\u5F00\u65B9\u5F0F"}},[t("el-radio-group",{model:{value:e.target,callback:function(i){e.target=i},expression:"target"}},[t("el-radio",{attrs:{label:"_blank"}},[e._v("\u65B0\u7A97\u53E3")]),t("el-radio",{attrs:{label:"_self"}},[e._v("\u5F53\u524D\u7A97\u53E3")])],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.cancleHandler}},[e._v("\u53D6\u6D88")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setAttribute}},[e._v("\u786E\u5B9A")])],1)],1)},Oa=[];const Na={mixins:[u],data:function(){return{visibleDialog:!1,href:"abc",target:"_blank"}},methods:{changelink:function(e){this.href=e},cancleHandler:function(){this.visibleDialog=!1},open:function(){var e=this.editor.getAttributes("link");this.href=e.href||"",this.target=e.target||"_blank",this.visibleDialog=!0,this.$emit("change",this.href)},setAttribute:function(){var e={};this.href&&(e.href=this.href,e.target=this.target,this.editor.commands.setLink(e)),this.visibleDialog=!1}}},Ue={};var Va=l(Na,Da,Oa,!1,qa,null,null,null);function qa(e){for(let n in Ue)this[n]=Ue[n]}var Ua=function(){return Va.exports}(),Xa=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-dialog",{attrs:{title:"\u63D2\u5165\u56FE\u7247",visible:e.visibleDialog,"append-to-body":!0,width:"40rem"},on:{"update:visible":function(i){e.visibleDialog=i}}},[t("el-form",{attrs:{"label-width":"80px"}},[e.showaddress?t("el-form-item",{attrs:{label:"\u56FE\u7247\u5730\u5740"}},[t("el-input",{attrs:{placeholder:"http(s)://",size:"small"},model:{value:e.src,callback:function(i){e.src=i},expression:"src"}})],1):e._e(),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"\u5BBD"}},[t("el-input-number",{attrs:{size:"small"},model:{value:e.width,callback:function(i){e.width=i},expression:"width"}}),t("el-select",{staticStyle:{width:"5em"},attrs:{size:"small"},model:{value:e.widthunit,callback:function(i){e.widthunit=i},expression:"widthunit"}},[t("el-option",{attrs:{value:"%",label:"%"}}),t("el-option",{attrs:{value:"px",label:"px"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"\u9AD8"}},[t("el-input-number",{attrs:{size:"small"},model:{value:e.height,callback:function(i){e.height=i},expression:"height"}}),t("el-select",{staticStyle:{width:"5em"},attrs:{size:"small"},model:{value:e.heightunit,callback:function(i){e.heightunit=i},expression:"heightunit"}},[t("el-option",{attrs:{value:"%",label:"%"}}),t("el-option",{attrs:{value:"px",label:"px"}})],1)],1)],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.cancleHandler}},[e._v("\u53D6\u6D88")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setAttribute}},[e._v("\u786E\u5B9A")])],1)],1)},Wa=[];const Ya={mixins:[u],data(){return{visibleDialog:!1,src:"",width:null,widthunit:"px",height:null,heightunit:"px"}},computed:{showaddress:function(){return!!(!this.src||/^http/.test(this.src))}},methods:{cancleHandler:function(){this.visibleDialog=!1},getStyle:function(e,n){var t=new RegExp("(^|;)("+e+":)([^;]*)"),i=t.exec(n);return i?i[3]:""},open:function(){var e=this.editor.getAttributes("image");this.src=e.src;var n=e.style,t=this.getStyle("width",n),i=this.getStyle("height",n);this.width=t?t.replace(/[^0-9]*/g,""):null,this.widthunit=t?t.replace(/[0-9]*/g,""):"px",this.height=i?i.replace(/[^0-9]*/g,""):null,this.heightunit=i?i.replace(/[0-9]*/g,""):"px",this.visibleDialog=!0},setAttribute:function(){if(this.src){var e={src:this.src,style:""};this.width&&(e.style+="width:"+this.width+this.widthunit+";"),this.height&&(e.style+="height:"+this.height+this.heightunit+";"),this.editor.chain().focus().setImage(e).run()}this.visibleDialog=!1}}},Xe={};var Ga=l(Ya,Xa,Wa,!1,Ja,null,null,null);function Ja(e){for(let n in Xe)this[n]=Xe[n]}var Qa=function(){return Ga.exports}(),Za=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-dialog",{attrs:{title:"\u89C6\u9891\u5730\u5740",visible:e.visibleDialog,"append-to-body":!0,width:"40rem"},on:{"update:visible":function(i){e.visibleDialog=i}}},[t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"\u89C6\u9891\u5730\u5740"}},[t("el-input",{attrs:{placeholder:"http(s)://",size:"small"},model:{value:e.src,callback:function(i){e.src=i},expression:"src"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancleHandler}},[e._v("\u53D6\u6D88")]),t("el-button",{attrs:{type:"primary"},on:{click:e.setAttribute}},[e._v("\u786E\u5B9A")])],1)],1)},Ka=[];const el={mixins:[u],data(){return{visibleDialog:!1,src:""}},methods:{cancleHandler:function(){this.visibleDialog=!1},open:function(){var e=this.editor.getAttributes("video");this.src=e.src,this.visibleDialog=!0},setAttribute:function(){this.src&&this.editor.chain().focus().setVideo({src:this.src}).run(),this.visibleDialog=!1}}},We={};var tl=l(el,Za,Ka,!1,nl,null,null,null);function nl(e){for(let n in We)this[n]=We[n]}var il=function(){return tl.exports}(),rl=Mt.extend({group:"inline",inline:!0});const ol=C.create({addGlobalAttributes(){return[{types:["paragraph"],attributes:{textIndent:{default:0,renderHTML:e=>e.textIndent?{"data-indent":e.textIndent,style:`text-indent:${e.textIndent}em`}:{},parseHTML:e=>e.getAttribute("data-indent")}}}]}}),sl=C.create({addGlobalAttributes(){return[{types:["paragraph"],attributes:{lineHeight:{default:null,parseHTML:e=>e.getAttribute("data-lineheight"),renderHTML:e=>{let n=e.lineHeight;return n?{style:`line-height:${e.lineHeight}em`,"data-lineheight":n}:{}}}}}]},addCommands(){return{setLineHeight:e=>({commands:n})=>{n.updateAttributes("paragraph",{lineHeight:e})},unsetLineHeight:()=>({commands:e})=>{e.resetAttributes("paragraph","lineHeight")}}}}),al=C.create({addGlobalAttributes(){return[{types:["textStyle"],attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize?e.style.fontSize.replace(/[^0-9]+/g,""):"",renderHTML:e=>e.fontSize?{style:`font-size:${e.fontSize}px`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:n})=>n().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).run()}}});var ll=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"dom",class:["eruit-drag",{"eruit-drag-bar":e.showbar&&e.isActive,"eruit-darg-width":e.justWidth}],style:e.customstyle,on:{click:function(i){return i.stopPropagation(),e.activBar.apply(null,arguments)}}},[t("div",{staticClass:"eruit-drag-body"},[e._t("default")],2),e.isActive?[e.justWidth?[t("span",{staticClass:"eruit-drag-line-l",on:{mousedown:function(i){return e.downxHandler(i,"l")}}}),t("span",{staticClass:"eruit-drag-line-r",on:{mousedown:function(i){return e.downxHandler(i,"r")}}}),t("span",{staticClass:"eruit-drag-line-b"}),t("span",{staticClass:"eruit-drag-line-t"})]:[t("span",{staticClass:"eruit-drag-lt",on:{mousedown:function(i){return e.downHandler(i,1)}}}),t("span",{staticClass:"eruit-drag-rt",on:{mousedown:function(i){return e.downHandler(i,2)}}}),t("span",{staticClass:"eruit-drag-rb",on:{mousedown:function(i){return e.downHandler(i,3)}}}),t("span",{staticClass:"eruit-drag-lb",on:{mousedown:function(i){return e.downHandler(i,4)}}}),t("span",{staticClass:"eruit-drag-line-l"}),t("span",{staticClass:"eruit-drag-line-r"}),t("span",{staticClass:"eruit-drag-line-b"}),t("span",{staticClass:"eruit-drag-line-t"})]]:e._e()],2)},cl=[];const dl={data:function(){return{position:0,w:this.width,h:this.height,showbar:!1}},props:{justWidth:{type:Boolean,default:function(){return!1}},customstyle:{type:Object,default:function(){return{}}},width:{type:Number,default:function(){return null}},height:{type:Number,default:function(){return null}},heightAuto:{type:Boolean,default:function(){return!1}},isActive:{type:Boolean,default:function(){return!1}}},mounted:function(){var e=this;document.addEventListener("click",function(n){e.isActive||(e.showbar=!1)})},methods:{activBar:function(){this.showbar=!0},downxHandler:function(e,n){var t=e.clientX,i=this.$refs.dom,r=i.getBoundingClientRect();r.width;var o=this;this.$emit("down");function s(a){var d=a.clientX,p=d-t;o.$emit("update",{position:n,x:p})}function c(a){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)}document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)},downHandler:function(e,n){this.position=n;var t=e.clientX,i=e.clientY,r=this.$refs.dom,o=r.getBoundingClientRect(),s=o.width,c=o.height,a=this;function d(f){var h=f.clientX,m=f.clientY,g=h-t,N=m-i,R=s,E=c;switch(n){case 1:case 4:g>0&&(R=s-g),m>0&&(E=c-N);break;case 2:case 3:R=s+g,E=c+N;break}a.w=R,a.h=E,a.heightAuto?a.$emit("update",{width:a.w}):a.$emit("update",{width:a.w,height:a.h})}function p(f){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",p),a.heightAuto?a.$emit("update",{width:a.w}):a.$emit("update",{width:a.w,height:a.h})}document.addEventListener("mousemove",d),document.addEventListener("mouseup",p)}}},Ye={};var ul=l(dl,ll,cl,!1,pl,null,null,null);function pl(e){for(let n in Ye)this[n]=Ye[n]}var O=function(){return ul.exports}(),hl=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("node-view-wrapper",{staticClass:"inline-node-view"},[e.isActive?t("i",{staticClass:"editorIcon ed-drag-move-2-fill",attrs:{draggable:"true","data-drag-handle":"",contenteditable:"false"}}):e._e(),t("eruitDrag",{attrs:{isActive:e.isActive,width:e.node.attrs.width,height:e.node.attrs.height},on:{update:e.updateHandler}},[t("video",{attrs:{src:e.node.attrs.src,controls:""}})])],1)},fl=[];const vl={components:{NodeViewWrapper:S,eruitDrag:O},props:H,computed:{isActive:function(){return this.editor.isActive("video",{dataid:this.node.attrs.dataid})}},methods:{updateHandler:function(e){this.updateAttributes(e)}}},Ge={};var gl=l(vl,hl,fl,!1,_l,null,null,null);function _l(e){for(let n in Ge)this[n]=Ge[n]}var ml=function(){return gl.exports}(),bl=A.create({name:"video",inline:!0,group:"inline",draggable:!0,addOptions(){return{HTMLAttributes:{controls:!0}}},addAttributes(){return{src:{default:""},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:"video",getAttrs:e=>({src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height")})}]},renderHTML({HTMLAttributes:e}){return["video",$(this.options.HTMLAttributes,e)]},addNodeView(){return M(ml)},addCommands(){return{setVideo:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e})}}}),$l=A.create({name:"audio",inline:!0,group:"inline",draggable:!0,addOptions(){return{HTMLAttributes:{controls:!0}}},addAttributes(){return{src:{default:""},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:"audio",getAttrs:e=>({src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height")})}]},renderHTML({HTMLAttributes:e}){return["audio",$(this.options.HTMLAttributes,e)]},addCommands(){return{setAudio:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e})}}}),kl=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("node-view-wrapper",{staticClass:"inline-node-view"},[e.isActive?t("i",{staticClass:"editorIcon ed-drag-move-2-fill",attrs:{draggable:"true","data-drag-handle":"",contenteditable:"false"}}):e._e(),t("eruitDrag",{attrs:{"is-active":e.isActive,customstyle:{width:e.node.attrs.width+"px",height:e.node.attrs.height+"px","border-radius":e.node.attrs.borderRadius,"border-left":e.node.attrs.borderLeft,"border-top":e.node.attrs.borderTop,"border-right":e.node.attrs.borderRight,"border-bottom":e.node.attrs.borderBottom,"box-shadow":e.node.attrs.boxShadow}},on:{update:e.updateHandler}},[t("img",{attrs:{src:e.node.attrs.src}})])],1)},yl=[];const xl={components:{NodeViewWrapper:S,eruitDrag:O},props:H,computed:{isActive:function(){return this.editor.isActive("image",{dataid:this.node.attrs.dataid})}},methods:{updateHandler:function(e){this.updateAttributes(e)}}},Je={};var wl=l(xl,kl,yl,!1,Cl,null,null,null);function Cl(e){for(let n in Je)this[n]=Je[n]}var Sl=function(){return wl.exports}(),Hl=Lt.extend({priority:1e3,addAttributes(){return{src:{default:null},title:{default:null},alt:{default:null},width:{default:null,parseHTML:e=>parseInt((e.style.width||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.width?{style:"width:"+e.width+"px"}:{}},height:{default:null,parseHTML:e=>parseInt((e.style.height||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.height?{style:"height:"+e.height+"px"}:{}}}},renderHTML({HTMLAttributes:e}){return["img",$(this.options.HTMLAttributes,e)]},parseHTML(){return[{tag:"img",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}]},addNodeView(){return M(Sl)},addCommands(){return{updateImage:e=>({commands:n})=>n.updateAttributes("image",e),setImage:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e})}}}),Al=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("node-view-wrapper",{staticClass:"node-resize"},[t("div",{ref:"dom",class:{"eruit-drag-size":!0,"eruit-drag-active":e.showbar},on:{click:function(i){i.stopPropagation()}}},[t("i",{staticClass:"editorIcon ed-drag-move-2-fill",attrs:{contenteditable:"false",draggable:"true","data-drag-handle":""},on:{click:function(i){return i.stopPropagation(),e.activBar.apply(null,arguments)}}}),t("i",{staticClass:"editorIcon ed-expand-up-down-line",attrs:{contenteditable:"false"},on:{click:function(i){i.stopPropagation()},mousedown:e.downHandler}}),t("div",{staticClass:"eruit-drag-body",style:e.borderstyle},[t("node-view-content",{staticClass:"resize-div",attrs:{"data-id":e.node.attrs.dataid,"data-background-type":e.node.attrs.backgroundType}})],1)])])},Ml=[];const Ll={components:{NodeViewWrapper:S,NodeViewContent:bt},props:H,data(){return{w:this.width,h:this.height,showbar:!1}},mounted:function(){var e=this;document.addEventListener("click",function(n){e.editor.isActive("resize",{dataid:e.node.attrs.dataid})||(e.showbar=!1)})},computed:{borderstyle:function(){var e=this.node.attrs,n={};return e.width&&(n.width=e.width+"px"),e.height&&(n.height=e.height+"px"),e.borderRadius&&(n["border-radius"]=e.borderRadius),e.borderLeft&&(n["border-left"]=e.borderLeft),e.borderTop&&(n["border-top"]=e.borderTop),e.borderBottom&&(n["border-bottom"]=e.borderBottom),e.borderRight&&(n["border-right"]=e.borderRight),e.boxShadow&&(n["box-shadow"]=e.boxShadow),n["background-color"]=e.backgroundColor,/^(http|\/\/|data:)/.test(e.backgroundImage)?n["background-image"]="url("+e.backgroundImage+")":n["background-image"]=e.backgroundImage,n["background-size"]=e.backgroundSize,n["background-repeat"]=e.backgroundRepeat,n["background-position"]=e.backgroundPosition,n["padding-left"]=e.paddingLeft+"px",n["padding-right"]=e.paddingRight+"px",n["padding-top"]=e.paddingTop+"px",n["padding-bottom"]=e.paddingBottom+"px",n}},methods:{activBar:function(){this.showbar=!0},downHandler:function(e){var n=e.clientX;e.clientY;var t=this.$refs.dom,i=t.getBoundingClientRect(),r=i.width;i.height;var o=this;function s(a){var d=a.clientX;a.clientY;var p=d-n,f=r;f=r+p,o.w=f,o.updateAttributes({width:o.w})}function c(a){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c),o.updateAttributes({width:o.w}),o.activBar()}document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)}}},Qe={};var Tl=l(Ll,Al,Ml,!1,Rl,null,null,null);function Rl(e){for(let n in Qe)this[n]=Qe[n]}var El=function(){return Tl.exports}(),Fl=A.create({name:"resize",group:"inline",content:"inline*",inline:!0,draggable:!0,atom:!0,selectable:!0,addAttributes(){return{width:{default:null,parseHTML:e=>parseInt((e.style.width||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.width?{style:"width:"+e.width+"px"}:{}},height:{default:null,parseHTML:e=>parseInt((e.style.height||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.height?{style:"height:"+e.height+"px"}:{}}}},parseHTML(){return[{tag:"div",getAttrs:function(e){return e.className=="resize-div"}}]},renderHTML({HTMLAttributes:e}){return["div",$(this.options.HTMLAttributes,e,{class:"resize-div"}),0]},addNodeView(){return M(El)}}),Il=C.create({name:"border",addOptions(){return{types:[],defaultborder:0,defaultborderradius:0,defaultshadow:"none"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{dataid:{default:0,parseHTML:e=>"block_"+parseInt(Math.random()*1e6),renderHTML:e=>({"data-id":e.dataid})},borderLeft:{default:this.options.defaultborder,parseHTML:e=>e.style.borderLeft||this.options.defaultborder,renderHTML:e=>e.borderLeft==this.options.defaultborder?{}:{style:"border-left:"+e.borderLeft}},borderRight:{default:this.options.defaultborder,parseHTML:e=>e.style.borderRight||this.options.defaultborder,renderHTML:e=>e.borderRight==this.options.defaultborder?{}:{style:"border-right:"+e.borderRight}},borderTop:{default:this.options.defaultborder,parseHTML:e=>e.style.borderTop||this.options.defaultborder,renderHTML:e=>e.borderTop==this.options.defaultborder?{}:{style:"border-top:"+e.borderTop}},borderBottom:{default:this.options.defaultborder,parseHTML:e=>e.style.borderBottom||this.options.defaultborder,renderHTML:e=>e.borderBottom==this.options.defaultborder?{}:{style:"border-bottom:"+e.borderBottom}},borderRadius:{default:this.options.defaultborderradius,parseHTML:e=>e.style.borderRadius||this.options.defaultborderradius,renderHTML:e=>e.borderRadius?{style:"border-radius:"+e.borderRadius}:{}},boxShadow:{default:this.options.defaultshadow,parseHTML:e=>e.style.boxShadow||this.options.defaultshadow,renderHTML:e=>e.boxShadow===this.options.defaultshadow?{}:{style:"box-shadow:"+e.boxShadow}},backgroundColor:{default:"",parseHTML:e=>e.style.backgroundColor||"",renderHTML:e=>({style:"background-color:"+e.backgroundColor})},backgroundImage:{default:"",parseHTML:e=>e.style.backgroundImage?e.style.backgroundImage.replace('url("',"").replace(/"\)$/,""):"",renderHTML:e=>/^(http|\/\/|data:)/.test(e.backgroundImage)?{style:"background-image:url("+e.backgroundImage+")"}:{style:"background-image:"+e.backgroundImage}},backgroundType:{default:"local",parseHTML:e=>e.getAttribute("data-background-type"),renderHTML:e=>({"data-background-type":e.backgroundType})},backgroundRepeat:{default:"no-repeat",parseHTML:e=>e.style.backgroundRepeat||"",renderHTML:e=>({style:"background-repeat:"+e.backgroundRepeat})},backgroundSize:{default:"auto",parseHTML:e=>e.style.backgroundSize||"",renderHTML:e=>({style:"background-size:"+e.backgroundSize})},backgroundPosition:{default:"center center",parseHTML:e=>e.style.backgroundPosition||"",renderHTML:e=>({style:"background-position:"+e.backgroundPosition})},paddingLeft:{default:null,parseHTML:e=>parseInt((e.style.paddingLeft||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>({style:"padding-left:"+e.paddingLeft+"px"})},paddingTop:{default:null,parseHTML:e=>parseInt((e.style.paddingTop||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>({style:"padding-top:"+e.paddingTop+"px"})},paddingRight:{default:null,parseHTML:e=>parseInt((e.style.paddingRight||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>({style:"padding-right:"+e.paddingRight+"px"})},paddingBottom:{default:null,parseHTML:e=>parseInt((e.style.paddingBottom||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>({style:"padding-bottom:"+e.paddingBottom+"px"})}}}]},addCommands(){return{setBorder:e=>({commands:n})=>{var t={};return typeof e.borderLeft!="undefined"&&(t.borderLeft=e.borderLeft),typeof e.borderTop!="undefined"&&(t.borderTop=e.borderTop),typeof e.borderRight!="undefined"&&(t.borderRight=e.borderRight),typeof e.borderRight!="undefined"&&(t.borderBottom=e.borderBottom),this.options.types.every(i=>n.updateAttributes(i,t))},unsetBorder:()=>({commands:e})=>this.options.types.every(n=>{e.resetAttributes(n,"borderLeft"),e.resetAttributes(n,"borderRight"),e.resetAttributes(n,"borderTop"),e.resetAttributes(n,"borderBottom")}),setRadius:e=>({commands:n})=>this.options.types.every(t=>n.updateAttributes(t,{borderRadius:e})),unsetBadius:()=>({commands:e})=>this.options.types.every(n=>e.resetAttributes(n,"borderRadius")),setShadow:e=>({commands:n})=>this.options.types.every(t=>n.updateAttributes(t,{boxShadow:e})),unsetShadow:()=>({commands:e})=>this.options.types.every(n=>e.resetAttributes(n,"boxShadow")),setBackground:e=>({commands:n})=>this.options.types.every(t=>n.updateAttributes(t,e)),unsetBackground:()=>({commands:e})=>this.options.types.every(n=>e.resetAttributes(n,"background"))}}}),Bl=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("node-view-wrapper",{class:["node-edfree"]},[t("eruitDrag",{attrs:{justWidth:!0,"is-active":e.isActive,customstyle:e.borderstyle},on:{update:e.updateHandler,down:e.downHandler}},[e.isActive?t("i",{staticClass:"editorIcon ed-draggable move1",attrs:{draggable:"true","data-drag-handle":"",contenteditable:"false"},on:{click:function(i){i.stopPropagation()}}}):e._e(),e.isActive?t("i",{staticClass:"editorIcon ed-draggable move4",attrs:{draggable:"true","data-drag-handle":"",contenteditable:"false"},on:{click:function(i){i.stopPropagation()}}}):e._e(),e.isActive?t("i",{staticClass:"editorIcon ed-drag-move-2-fill move2",attrs:{contenteditable:"false"},on:{click:function(i){i.stopPropagation()},mousedown:e.mousedownHandler}}):e._e(),e.isActive?t("i",{staticClass:"editorIcon ed-drag-move-2-fill move3",attrs:{contenteditable:"false"},on:{click:function(i){i.stopPropagation()},mousedown:e.mousedownHandler}}):e._e(),t("node-view-content",{staticClass:"free-div",attrs:{"data-id":e.node.attrs.dataid,"data-background-type":e.node.attrs.backgroundType}})],1)],1)},zl=[];const jl={components:{NodeViewWrapper:S,NodeViewContent:bt,eruitDrag:O},props:H,data(){return{isdown:!1,canDelete:!1,start:{left:0,width:0}}},computed:{isActive:function(){return this.editor.isActive("free",{dataid:this.node.attrs.dataid})},constyle:function(){var e={};return this.node.attrs.textAlign=="left"?(e.left="0%",e.transform="translate(0,0)"):this.node.attrs.textAlign=="center"?(e.left="50%",e.transform="translate(-50%,0)"):this.node.attrs.textAlign=="right"?(e.left="100%",e.transform="translate(-100%,0)"):e.left=this.node.attrs.left+"%",e},borderstyle:function(){var e=this.node.attrs,n={};return e.width&&(n.width=e.width+"px"),e.borderRadius&&(n["border-radius"]=e.borderRadius),e.borderLeft&&(n["border-left"]=e.borderLeft),e.borderTop&&(n["border-top"]=e.borderTop),e.borderBottom&&(n["border-bottom"]=e.borderBottom),e.borderRight&&(n["border-right"]=e.borderRight),e.boxShadow&&(n["box-shadow"]=e.boxShadow),n["background-color"]=e.backgroundColor,/^(http|\/\/|data:)/.test(e.backgroundImage)?n["background-image"]="url("+e.backgroundImage+")":n["background-image"]=e.backgroundImage,n["background-size"]=e.backgroundSize,n["background-repeat"]=e.backgroundRepeat,n["background-position"]=e.backgroundPosition,n["padding-left"]=e.paddingLeft+"px",n["padding-right"]=e.paddingRight+"px",n["padding-top"]=e.paddingTop+"px",n["padding-bottom"]=e.paddingBottom+"px",this.node.attrs.textAlign=="left"?(n.left="0%",n.transform="translate(0,0)"):this.node.attrs.textAlign=="center"?(n.left="50%",n.transform="translate(-50%,0)"):this.node.attrs.textAlign=="right"?(n.left="100%",n.transform="translate(-100%,0)"):n.left=this.node.attrs.left+"%",n}},created:function(){var e=this;document.addEventListener("click",function(){e.canDelete=!1}),document.addEventListener("keyup",function(n){n.keyCode==46&&e.canDelete&&e.editor.commands.deleteNode("free")})},methods:{downHandler:function(){var e=this.node.attrs;this.start.left=e.left,this.start.width=e.width},updateHandler:function(e){var n=this.editor.view.docView.nodeDOM,t=n.getBoundingClientRect(),i={};e.position=="l"?(i.width=this.start.width-e.x,i.left=this.start.left+e.x/t.width*100):i.width=this.start.width+e.x,this.updateAttributes(i)},mousedownHandler:function(e){this.isdown=!0,this.canDelete=!0;var n=e.clientX,t=this.node.attrs.left,i=this,r=this.editor.view.docView.nodeDOM,o=r.getBoundingClientRect();i.node.attrs.textAlign=="left"?t=0:i.node.attrs.textAlign=="center"?t=50-(this.node.attrs.width+this.node.attrs.paddingLeft+this.node.attrs.paddingRight)/o.width/2*100:i.node.attrs.textAlign=="right"&&(t=(1-(this.node.attrs.width+this.node.attrs.paddingLeft+this.node.attrs.paddingRight)/o.width)*100);var s=e.currentTarget;function c(d){var p=d.clientX,f=p-n,h=t+f/o.width*100;i.node.attrs.textAlign=null,i.node.attrs.left=h,i.editor.options.onUpdate({editor:i.editor})}function a(d){i.isdown=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",a),s.removeEventListener("mouseup",a)}document.addEventListener("mousemove",c),document.addEventListener("mouseup",a),s.addEventListener("mouseup",a)}}},Ze={};var Pl=l(jl,Bl,zl,!1,Dl,null,null,null);function Dl(e){for(let n in Ze)this[n]=Ze[n]}var Ol=function(){return Pl.exports}(),Nl=A.create({name:"free",group:"block",content:"(paragraph|free?)*",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{left:{default:null,parseHTML:e=>parseInt((e.style.left||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.textAlign=="left"?{style:"left:0%;transform:translate(0,0);"}:e.textAlign=="center"?{style:"left:50%;transform:translate(-50%,0);"}:e.textAlign=="right"?{style:"left:100%;transform:translate(-100%,0);"}:e.left?{style:"left:"+e.left+"%"}:{}},width:{default:null,parseHTML:e=>parseInt((e.style.width||"0").replace(/[^0-9]*/,""))||null,renderHTML:e=>e.width?{style:"width:"+e.width+"px"}:{}},textAlign:{default:null,parseHTML:e=>{var n=e.style.left.replace(/[^0-9]*/g,"");if(n==="0")return"left";if(n==="100")return"right";if(n=="50")return"center"},renderHTML:e=>({})}}},parseHTML(){return[{tag:"div",getAttrs:function(e){return e.className=="free-div"}}]},renderHTML({HTMLAttributes:e}){return["div",$(this.options.HTMLAttributes,e,{class:"free-div"}),0]},addNodeView(){return M(Ol)},addCommands(){return{setPosition:e=>({commands:n})=>n.updateAttributes("free",{textAlign:e})}}});const Vl=Tt.extend({whitespace:"pre",addAttributes(){return{textAlign:{default:"",parseHTML:e=>e.style.textAlign||"",renderHTML:e=>e.textAlign===""?{}:{style:`text-align: ${e.textAlign}`}}}},parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",$(this.options.HTMLAttributes,e),0]}});let ql=[Rt,rl.configure({resizable:!0}),Et,Ft,It,Bt,zt,jt.configure({types:["textStyle"]}),Pt,Dt.configure({multicolor:!0}),Ot.configure({types:["heading","paragraph"]}),ol,sl,Nt,Vt,qt,al,Ut,Xt,Hl.configure({inline:!0}),bl,$l,Fl,Nl,Il.configure({types:["image","resize","free","highlight"]}),Wt.configure({shouldShow:({editor:e})=>e.isActive("image")}),Vl];var Ul=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"er-editor-wrap",style:{width:e.dwidth,height:e.height}},[e.readOnly?e._e():t("tools",{attrs:{list:e.toolslist}}),t("div",{staticClass:"er-editor-content"},[t("div",{staticClass:"er-editor-artical"},[t("menus"),t("linkdialog",{ref:"link",on:{change:e.changeLink}},[e._t("link",function(){return[t("el-input",{attrs:{placeholder:"http(s)://",size:"small"},on:{change:e.linkChange},model:{value:e.url,callback:function(i){e.url=i},expression:"url"}})]})],2),t("imagedialog",{ref:"image"}),t("editor-content",{staticClass:"er-editor-com",style:e.editorStyle,attrs:{editor:e.editor,"data-background-type":e.pageStyle.backgroundType}}),t("videodialog",{ref:"video"})],1)])],1)},Xl=[];const Wl={name:"erVueEditor",mixins:[P],components:{EditorContent:Yt,tools:vs,menus:Pa,linkdialog:Ua,imagedialog:Qa,videodialog:il},provide(){return{tiptap:this}},props:{href:{type:String,default:function(){return""}},config:{type:Object,default:function(){return null}},value:{type:String,default:function(){return""}},toolType:{type:String,default:function(){return""}},customTools:{type:Array,default:function(){return[]}},readOnly:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"100%"}},pagePadding:{type:Object,default:function(){return{left:20,top:20,right:20,bottom:20}}}},data(){return{toolslist:[],editor:null,alltools:["add","|","back","forward","|","heading","fontsize","bold","italic","strike","underline","|","subscript","superscript","color","highlight","border","|","textalign","bulletlist","orderedlist","increase","lineheight","|","tasklist","link","blockquote","horizontal","page","device"],simpletools:["back","forward","brush","eraser"],lastpos:0,selection:null,contentHTML:"",pageStyle:{paddingLeft:typeof this.pagePadding.left=="undefined"?20:this.pagePadding.left,paddingRight:typeof this.pagePadding.right=="undefined"?20:this.pagePadding.right,paddingBottom:typeof this.pagePadding.bottom=="undefined"?20:this.pagePadding.bottom,paddingTop:typeof this.pagePadding.top=="undefined"?20:this.pagePadding.top,backgroundColor:"",backgroundImage:"",backgroundType:"local",backgroundRepeat:"no-repeat",backgroundSize:"auto",backgroundPosition:"center center"},device:"computer",phonewidth:"385px",dwidth:this.width,url:this.href}},computed:{editorStyle:function(){var e={};e["padding-left"]=this.pageStyle.paddingLeft+"px",e["padding-right"]=this.pageStyle.paddingRight+"px",e["padding-bottom"]=this.pageStyle.paddingBottom+"px",e["padding-top"]=this.pageStyle.paddingTop+"px";var n="";return/^(http|\/\/|data:)/.test(this.pageStyle.backgroundImage)?n="url("+this.pageStyle.backgroundImage+")":n=this.pageStyle.backgroundImage,e["background-image"]=n,e["background-color"]=this.pageStyle.backgroundColor,e["background-size"]=this.pageStyle.backgroundSize,e["background-position"]=this.pageStyle.backgroundPosition,e["background-repeat"]=this.pageStyle.backgroundRepeat,e}},watch:{value:function(e){var n=this.clearHTML(e);this.editor&&n!=this.editor.getHTML()&&(this.editor.commands.clearContent(),this.editor.commands.insertContent(n))},href:function(e){this.url=e,this.linkChange(e)}},created:function(){this.customTools.length?this.toolslist=this.customTools:this.toolType=="simple"?this.toolslist=this.simpletools:this.toolslist=this.alltools,this.value&&(this.contentHTML=this.clearHTML(this.value));var e=this.editorconfig;e.device&&(this.device=e.device,this.device=="smartphone"&&(this.dwidth=this.phonewidth));var n=this;document.addEventListener("click",function(){n.$floatmenu&&n.$floatmenu.close(),n.$edpopove&&n.$edpopove.close()}),this.editor=new Gt({parames:this.config,content:this.contentHTML,extensions:ql,autofocus:!0,editable:!0,onSelectionUpdate({editor:t}){var i=t.view.state.selection,r=i.ranges,o={};if(r&&r.length){var s=r[r.length-1].$from.pos,c=r[r.length-1].$to.pos;o=z(t.view,s,c)}t.isFocused&&n.selectionUpdate(i,o)},onFocus({editor:t}){var i=t.view.state.selection,r=i.ranges,o={};if(r&&r.length){var s=r[r.length-1].$from.pos,c=r[r.length-1].$to.pos;o=z(t.view,s,c)}t.isFocused&&n.selectionUpdate(i,o)},onUpdate({editor:t}){var i=n.getHTML();n.$emit("input",i)},onBlur(){}})},methods:{reset:function(){Object.assign(this.pageStyle,{paddingLeft:typeof this.pagePadding.left=="undefined"?20:this.pagePadding.left,paddingTop:typeof this.pagePadding.top=="undefined"?20:this.pagePadding.top,paddingBottom:typeof this.pagePadding.bottom=="undefined"?20:this.pagePadding.bottom,paddingRight:typeof this.pagePadding.right=="undefined"?20:this.pagePadding.right})},changeLink:function(e){this.url=e,this.$emit("changeLink",this.url)},linkChange:function(e){this.$refs.link.changelink(e),this.$emit("changeLink",this.url)},changeDevice:function(e){this.device=e,e=="computer"?this.dwidth=this.width:this.dwidth=this.phonewidth},setPage:function(e){Object.assign(this.pageStyle,e),this.$emit("input",this.getHTML())},clearHTML:function(e){var n=e,t=e,i=document.createElement("div");i.innerHTML=n;var r=i.firstChild;if(r&&r.className=="er-editor-page"){var o=r.style,s=this.pageStyle;s.backgroundType=r.dataset.backgroundType||"local",s.backgroundColor=o.backgroundColor||"",s.backgroundImage=(o.backgroundImage||"").replace('url("',"").replace(/"\)$/,""),s.backgroundPosition=o.backgroundPosition||"center center",s.backgroundRepeat=o.backgroundRepeat||"no-repeat",s.backgroundSize=o.backgroundSize||"auto",s.paddingLeft=parseInt(o.paddingLeft.replace(/[^0-9]*/g,"")||"0"),s.paddingRight=parseInt(o.paddingRight.replace(/[^0-9]*/g,"")||"0"),s.paddingTop=parseInt(o.paddingTop.replace(/[^0-9]*/g,"")||"0"),s.paddingBottom=parseInt(o.paddingBottom.replace(/[^0-9]*/g,"")||"0"),n=t.replace(/<div[^>]*>/,"").replace(/<\/div>$/,"")}return n},getHTML:function(){var e=this.editor.getHTML(),n="";/^(http|\/\/|data:)/.test(this.pageStyle.backgroundImage)?n="url("+this.pageStyle.backgroundImage+")":n=this.pageStyle.backgroundImage;var t='<div class="er-editor-page" data-background-type="'+this.pageStyle.backgroundType+'"  style="padding-left:'+this.pageStyle.paddingLeft+"px;padding-right:"+this.pageStyle.paddingRight+"px;padding-top:"+this.pageStyle.paddingTop+"px;padding-bottom:"+this.pageStyle.paddingBottom+"px; background-size:"+this.pageStyle.backgroundSize+"; background-repeat:"+this.pageStyle.backgroundRepeat+"; background-color:"+this.pageStyle.backgroundColor+";background-image:"+n+"; background-position:"+this.pageStyle.backgroundPosition+';">'+e+"</div>";return t},getJSON:function(){return this.editor.getJSON()},findParents:function(e,n){var t=null;function i(r){r&&r.className&&r.className.indexOf(n)!=-1?t=r:r.parentNode&&i(r.parentNode)}return i(e),t},getElementByAttr(e,n,t){for(var i=document.getElementsByTagName(e),r=[],o=0;o<i.length;o++){var s=i[o].getAttribute(n);s==t&&r.push(i[o])}return r},selectionUpdate:function(e,n){var t=[];if(this.$floatmenu.close(),(this.editor.isActive("image")||this.editor.isActive("free")||e.node&&this.editor.isActive("resize"))&&(t.push("menuBlockStyle"),t.push("menuShadow")),(e.node&&this.editor.isActive("resize")||!this.editor.isActive("image")&&this.editor.isActive("free"))&&t.push("menuBackground"),this.editor.isActive("free")&&t.push("menuTextalign"),!this.editor.isActive("image")&&this.editor.isActive("free")&&Jt(e)){var i=Qt(function(a){if(a.type.name=="free")return!0})(e);i&&(e=i);var r=this.editor.getAttributes("free"),o=r.dataid,s=this.getElementByAttr("div","data-id",o);if(s.length>0){var c=this.findParents(s[0],"eruit-drag-body");c&&(n=c.getBoundingClientRect())}}t.length?this.$floatmenu.show({position:n,modules:t,editor:this.editor,selection:e,store:this.$store}):this.$floatmenu.close()}}},Ke={};var Yl=l(Wl,Ul,Xl,!1,Gl,null,null,null);function Gl(e){for(let n in Ke)this[n]=Ke[n]}var Jl=function(){return Yl.exports}(),Ql=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-dialog-wrapper"},[t("div",{staticClass:"ed-dialog",style:e.dialogStyle},[t("div",{staticClass:"ed-dialog-header",on:{mousedown:e.downHandler}},[t("div",{staticClass:"title"},[e._v(e._s(e.title))]),t("div",[t("i",{staticClass:"el-icon-close",on:{click:e.close}})])]),t("div",{staticClass:"ed-dialog-body"},[e._t("default")],2),t("div",{staticClass:"ed-dialog-footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.sure}},[e._v("\u786E\u5B9A")])],1)])])},Zl=[];const Kl={name:"edDialog",data:function(){return{x:0,y:0}},props:{title:{type:String,default:function(){return""}}},computed:{dialogStyle:function(){return{transform:"translate("+this.x+"px, "+this.y+"px)"}}},methods:{close:function(){this.$emit("close")},sure:function(){this.$emit("sure")},downHandler:function(e){var n=e.clientX,t=e.clientY,i=this,r=i.x,o=i.y;function s(a){var d=a.clientX,p=a.clientY,f=d-n,h=p-t;i.x=r+f,i.y=o+h}function c(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)}document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)}}},et={};var ec=l(Kl,Ql,Zl,!1,tc,null,null,null);function tc(e){for(let n in et)this[n]=et[n]}var tt=function(){return ec.exports}();const nc={name:"edMerger",props:{modules:{type:Array,default:function(){return[]}},editor:{type:Object,default:function(){return null}},options:{type:Object,default(){return null}}},data(){return{}},watch:{modules:function(){}},render:function(e){var n=[],t=this;return this.modules.forEach(function(i,r){var o="",s={},c="ref_"+r;typeof i=="string"?o=i:(o=i.name,s=i.props||{}),s.editor=t.editor,s.options=t.options,n.push(e(o,{props:s,ref:c,on:{active:t.activeHandler}}))}),e("div",{},n)},methods:{init(){var e=this;this.modules.forEach(function(n,t){e.$refs["ref_"+t]&&e.$refs["ref_"+t].init&&e.$refs["ref_"+t].init()})},close(){var e=this;this.modules.forEach(function(n,t){e.$refs["ref_"+t]&&e.$refs["ref_"+t].close&&e.$refs["ref_"+t].close()})},getValue(){var e={},n=this;return this.modules.forEach(function(t,i){var r={};n.$refs["ref_"+i]&&n.$refs["ref_"+i].getValue&&(r=n.$refs["ref_"+i].getValue()),Object.assign(e,r)}),e},activeHandler:function(e){var n=this;this.modules.forEach(function(t,i){var r=n.$refs["ref_"+i];r!=e&&r.unactive&&r.unactive()})},unactiveAll:function(){var e=this;this.modules.forEach(function(n,t){var i=e.$refs["ref_"+t];i.unactive&&i.unactive()})}}};let ic,rc;const nt={};var oc=l(nc,ic,rc,!1,sc,null,null,null);function sc(e){for(let n in nt)this[n]=nt[n]}var it=function(){return oc.exports}();const ac=function(e){e.component(tt.name,tt),e.component(it.name,it);var n=e.extend({props:{options:{type:Object,default:function(){return{}}},modules:{type:Array,default:function(){return[]}}},render:function(t){return t("edDialog",{props:this.options,on:{close:this.close,sure:this.sure}},[t("edMerger",{props:{modules:this.modules},ref:"merger"})])},methods:{close:function(){document.body.removeChild(this.$el)},sure:function(){var t=this.$refs.merger.getValue();this.$emit("sure",t)}}});return function(t,i,r){var o=document.createElement("div");document.body.appendChild(o);var s=new n({propsData:{modules:i,options:t},el:o});return s.$on("sure",function(c){r&&r(c),s.close()}),s}};var lc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{trigger:"click",width:"264","popper-class":"gradually-bar-popover"}},[t("colorpicker",{on:{select:e.selectColor},model:{value:e.c,callback:function(i){e.c=i},expression:"c"}}),t("div",{staticClass:"ed-gradually-arrow",style:e.barStyle(),attrs:{slot:"reference"},on:{click:[e.clickHandler,function(i){i.stopPropagation()}],mousedown:e.downHandler},slot:"reference"},[t("i")])],1)},cc=[];const dc={components:{colorpicker:D},data(){return{c:this.color}},props:{pos:{type:Number,default:function(){return 0}},color:{type:String,default:function(){return""}}},watch:{color:function(e){this.c=e}},methods:{clickHandler:function(e){this.$emit("click",e)},barStyle:function(){var e={};return e.left=this.pos+"%",e["border-color"]=this.color,e},selectColor:function(e){this.$emit("update:color",e),this.$emit("change")},downHandler:function(e){this.$emit("mousedown",e)}}},rt={};var uc=l(dc,lc,cc,!1,pc,null,null,null);function pc(e){for(let n in rt)this[n]=rt[n]}var hc=function(){return uc.exports}(),fc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-gradually"},[t("div",{ref:"barline",staticClass:"ed-gradually-bar",on:{click:e.clickLine}},[t("div",{staticClass:"ed-gradually-line",style:e.lineStyle()}),e._l(e.bars,function(i){return t("bar",{key:i.id,attrs:{color:i.color,pos:i.pos},on:{click:function(r){r.stopPropagation()},change:e.changeValue,mousedown:function(r){return e.downHandler(r,i)},"update:color":function(r){return e.$set(i,"color",r)}}})})],2),t("div",{staticClass:"ed-gradually-rate"},[e._v(" \u89D2\u5EA6 "),t("el-input-number",{staticStyle:{width:"80px"},attrs:{min:-360,"controls-position":"right",step:1,size:"mini",max:360},on:{change:e.changeValue},model:{value:e.rate,callback:function(i){e.rate=i},expression:"rate"}})],1)])},vc=[];const gc={components:{bar:hc},data(){return{bars:[],rate:0,current:null}},props:{value:{type:String,default:function(){return""}}},watch:{value:function(){this.assignValue()}},mounted:function(){this.addBar(0),this.addBar(100);var e=this;document.addEventListener("click",function(){e.current=null});function n(t){t.keyCode==46&&e.removeBar(e.current)}document.addEventListener("keyup",n),this.assignValue()},methods:{assignValue:function(){this.current=null,this.bars=[],this.rate=0;var e=this.value;if(e){var n=this;e.replace(/([0-9]*)deg/,function(o,s){return n.rate=parseInt(s),o}),e=e.replace(/linear-gradient|\(|\)/g,"");for(var t=e.split(","),i=1;i<t.length;i++){var r=t[i].split(" ");this.addBar(parseInt(r[1].replace("%","")),r[0])}}else this.addBar(0),this.addBar(100)},removeBar:function(e){if(e&&this.bars.length>2){var n=this.bars.findIndex(function(t){return t.id==e.id});n!=-1&&(this.bars.splice(n,1),this.changeValue())}},addBar:function(e,n){var t={id:"bar_"+parseInt(Math.random()*1e4),pos:e,color:n||"#f00"};this.bars.push(t)},clickLine:function(e){var n=this.$refs.barline,t=n.getBoundingClientRect(),i=e.clientX,r=100*(i-t.left)/t.width;this.addBar(r),this.changeValue()},lineStyle:function(){var e={},n=[],t=JSON.parse(JSON.stringify(this.bars));return t.sort(function(i,r){return i.pos-r.pos}),t.forEach(i=>{n.push(i.color+" "+i.pos+"%")}),e["background-image"]="linear-gradient(to right,"+n.join(",")+")",e},downHandler:function(e,n){var t=this,i=e.clientX,r=this.$refs.barline,o=r.getBoundingClientRect(),s=n.pos,c=-s,a=100-s;this.current=n;function d(f){var h=f.clientX,m=h-i,g=100*m/o.width;g<a&&g>c&&(n.pos=s+g)}function p(f){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",p),t.changeValue()}document.addEventListener("mousemove",d),document.addEventListener("mouseup",p)},changeValue:function(){var e=JSON.parse(JSON.stringify(this.bars)),n=[];e.sort(function(i,r){return i.pos-r.pos}),e.forEach(i=>{n.push(i.color+" "+i.pos+"%")});var t="linear-gradient("+this.rate+"deg,"+n.join(",")+")";this.$emit("input",t),this.$emit("change",t)}}},ot={};var _c=l(gc,fc,vc,!1,mc,null,null,null);function mc(e){for(let n in ot)this[n]=ot[n]}var bc=function(){return _c.exports}(),$c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-imageupload",style:e.imageStyle,on:{click:e.clickHandler}},[t("i",{staticClass:"editorIcon ed-add-line",style:{visibility:e.src?"hidden":""}}),e.src?t("i",{staticClass:"el-icon-close",on:{click:function(i){return i.stopPropagation(),e.removeHandler.apply(null,arguments)}}}):e._e()])},kc=[];const yc={mixins:[P],props:{value:{type:String,default:function(){return""}},editor:{type:Object,default:function(){return null}}},data(){return{src:this.value}},computed:{imageStyle:function(){var e={};return this.src&&(e["background-image"]="url("+this.src+")"),e}},watch:{value:function(){this.src=this.value}},mounted:function(){var e=null,n=this;this.fq=new w(Object.assign({accept:"jpg,png,gif",compress:!1},this.editorconfig)),this.fq.on("change",function(){e=n.$loading({lock:!0,text:"\u52A0\u8F7D\u4E2D",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}),this.editorconfig.auto||this.fq.on("fileQueued",function(t){return n.src=t.base64,n.$emit("input",n.src),n.$emit("change",n.src),e.close(),!0}),this.fq.on("error",function(){n.uploadErrorMsg(...arguments),e.close()}),this.fq.on("uploadError",function(){n.uploadErrorMsg(...arguments)}),this.fq.on("uploadComplete",function(){e.close()}),this.fq.on("uploadAccept",function(){if(n.editorconfig.uploadAccept)return n.editorconfig.uploadAccept.call(n,...arguments)}),this.fq.on("uploadSuccess",function(t,i){n.editorconfig.uploadSuccess&&n.editorconfig.uploadSuccess.call(n,t,i),n.src=t.url||t.base64,n.$emit("input",n.src),n.$emit("change",n.src)})},methods:{clickHandler:function(){this.src||this.fq.open()},removeHandler:function(){this.src="",this.fq.reset(),this.$emit("input",""),this.$emit("change","")}}},st={};var xc=l(yc,$c,kc,!1,wc,null,null,null);function wc(e){for(let n in st)this[n]=st[n]}var Cc=function(){return xc.exports}(),Sc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",[t("el-select",{attrs:{size:"mini","popper-class":"edpopover-popper"},on:{change:e.changeHandler},model:{value:e.type,callback:function(i){e.type=i},expression:"type"}},[t("el-option",{attrs:{label:"\u672C\u5730\u6587\u4EF6",value:"local"}}),t("el-option",{attrs:{label:"\u7F51\u7EDC\u94FE\u63A5",value:"network"}})],1)],1),t("div",{staticClass:"ed-imageurl-form"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.type=="local",expression:"type=='local'"}]},[t("imageupload",{attrs:{editor:e.editor},on:{change:e.changeHandler},model:{value:e.localsrc,callback:function(i){e.localsrc=i},expression:"localsrc"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.type=="network",expression:"type=='network'"}]},[t("el-input",{attrs:{type:"textarea",size:"mini",placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740"},on:{change:e.changeHandler},model:{value:e.networksrc,callback:function(i){e.networksrc=i},expression:"networksrc"}})],1)])])},Hc=[];const Ac={data(){return{type:this.mode,localsrc:"",networksrc:""}},components:{imageupload:Cc},props:{editor:{type:Object,default:function(){return null}},mode:{type:String,default:function(){return"local"}},local:{type:String,default:function(){return""}},network:{type:String,default:function(){return""}}},watch:{mode:function(e){this.type=e},network:function(e){this.networksrc=e},local:function(e){this.localsrc=e}},methods:{changeHandler:function(){this.$emit("update:local",this.localsrc),this.$emit("update:mode",this.type),this.$emit("update:network",this.networksrc),this.$nextTick(function(){this.$emit("change")})}}},at={};var Mc=l(Ac,Sc,Hc,!1,Lc,null,null,null);function Lc(e){for(let n in at)this[n]=at[n]}var Tc=function(){return Mc.exports}(),Rc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-block-style",staticStyle:{width:"264px"}},[t("div",{staticClass:"ed-block-style-form"},[t("div",{staticClass:"er-editor-colors-item",staticStyle:{width:"18px",flex:"0 0 18px","margin-right":"10px"}},[t("span",{staticClass:"nocolor",on:{click:e.clearBg}},[t("i",{staticClass:"el-icon-check"})])]),t("label",[e._v("\u65E0\u80CC\u666F")])]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u989C\u8272")]),t("div",[t("el-color-picker",{attrs:{"popper-class":"er-editor-popper",size:"mini","show-alpha":""},on:{change:e.setBackground},model:{value:e.backgroundcolor,callback:function(i){e.backgroundcolor=i},expression:"backgroundcolor"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u6E10\u53D8")]),t("div",[t("gradually",{on:{change:e.setBackground},model:{value:e.backgroundgradually,callback:function(i){e.backgroundgradually=i},expression:"backgroundgradually"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u56FE\u7247")]),t("div",[t("imageurl",{attrs:{local:e.backgroundimage_local,network:e.backgroundimage_network,editor:e.editor,mode:e.backgroundtype},on:{"update:local":function(i){e.backgroundimage_local=i},"update:network":function(i){e.backgroundimage_network=i},change:e.setBackground,"update:mode":function(i){e.backgroundtype=i}}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u5927\u5C0F")]),t("div",[t("el-select",{attrs:{size:"mini","popper-class":"edpopover-popper"},on:{change:e.setBackground},model:{value:e.background_size,callback:function(i){e.background_size=i},expression:"background_size"}},[t("el-option",{attrs:{value:"auto",label:"\u81EA\u52A8"}}),t("el-option",{attrs:{value:"contain",label:"\u5B8C\u6574\u5C55\u793A"}}),t("el-option",{attrs:{value:"cover",label:"\u8986\u76D6\u94FA\u6EE1"}}),t("el-option",{attrs:{value:"",label:"\u81EA\u5B9A\u4E49"}})],1),e.background_size===""?t("el-input",{attrs:{size:"mini"},on:{change:e.setBackground},model:{value:e.background_custom,callback:function(i){e.background_custom=i},expression:"background_custom"}}):e._e()],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u5E73\u94FA")]),t("div",[t("el-select",{attrs:{size:"mini","popper-class":"edpopover-popper"},on:{change:e.setBackground},model:{value:e.backgroundrepeat,callback:function(i){e.backgroundrepeat=i},expression:"backgroundrepeat"}},[t("el-option",{attrs:{label:"\u4E0D\u91CD\u590D",value:"no-repeat"}}),t("el-option",{attrs:{label:"\u53CC\u5411\u91CD\u590D",value:"repeat"}}),t("el-option",{attrs:{label:"\u4E0D\u5E73\u91CD\u590D",value:"repeat-x"}}),t("el-option",{attrs:{label:"\u5782\u76F4\u590D\u590D",value:"repeat-y"}})],1)],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u4F4D\u7F6E")]),t("div",[t("el-select",{attrs:{size:"mini","popper-class":"edpopover-popper"},on:{change:e.setBackground},model:{value:e.backgroundposition,callback:function(i){e.backgroundposition=i},expression:"backgroundposition"}},[t("el-option",{attrs:{label:"\u5DE6\u4E0A",value:"left top"}}),t("el-option",{attrs:{label:"\u5DE6\u4E2D",value:"left center"}}),t("el-option",{attrs:{label:"\u5DE6\u4E0B",value:"left bottom"}}),t("el-option",{attrs:{label:"\u4E2D\u4E0A",value:"center top"}}),t("el-option",{attrs:{label:"\u6B63\u4E2D",value:"center center"}}),t("el-option",{attrs:{label:"\u4E2D\u4E0B",value:"center bottom"}}),t("el-option",{attrs:{label:"\u53F3\u4E0A",value:"right top"}}),t("el-option",{attrs:{label:"\u53F3\u4E2D",value:"right center"}}),t("el-option",{attrs:{label:"\u53F3\u4E0B",value:"right bottom"}})],1)],1)])])},Ec=[];const Fc={name:"edBackground",mixins:[L],components:{gradually:bc,imageurl:Tc},data(){return{backgroundcolor:"",backgroundgradually:"",backgroundimage_local:"",backgroundimage_network:"",background_size:"auto",background_custom:"",backgroundtype:"local",backgroundposition:"center center",backgroundrepeat:"no-repeat"}},props:{isPage:{type:Boolean,default:function(){return!1}}},mounted:function(){this.init()},methods:{init:function(e){if(this.backgroundcolor="",this.backgroundgradually="",this.backgroundimage_local="",this.backgroundimage_network="",this.background_size="auto",this.background_custom="",this.backgroundtype="local",this.backgroundposition="center center",this.backgroundrepeat="no-repeat",this.isPage)e&&(/^linear/.test(e.backgroundImage)?this.backgroundgradually=e.backgroundImage:e.backgroundType=="local"&&e.backgroundImage?this.backgroundimage_local=e.backgroundImage:e.backgroundType=="network"&&e.backgroundImage&&(this.backgroundimage_network=e.backgroundImage),e.backgroundSize.split(" ").length>1?(this.background_size="",this.background_custom=e.backgroundSize):this.background_size=e.backgroundSize,this.backgroundcolor=e.backgroundColor,this.backgroundtype=e.backgroundType,this.backgroundposition=e.backgroundPosition,this.backgroundrepeat=e.backgroundRepeat);else{if(!this.editor)return;this.setSelection(),setTimeout(()=>{var n=this.editor.view.state.selection,t=n.node;if(t){var i=t.type.name,r=this.editor.getAttributes(i),o=r.backgroundColor,s=r.backgroundImage,c=r.backgroundType,a=r.backgroundRepeat,d=r.backgroundSize,p=r.backgroundPosition;this.backgroundcolor=o,this.backgroundtype=c,this.backgroundrepeat=a,this.backgroundposition=p,d.split(" ").length>1?(this.background_size="",this.background_custom=d):this.background_size=d,/^linear/.test(s)?this.backgroundgradually=s:c=="local"&&s?this.backgroundimage_local=s:c=="network"&&s&&(this.backgroundimage_network=s)}},100)}},setBackground:function(){var e=this,n={};n.backgroundColor=this.backgroundcolor,n.backgroundImage=this.backgroundgradually,n.backgroundType=this.backgroundtype,this.backgroundtype=="local"&&this.backgroundimage_local?n.backgroundImage=this.backgroundimage_local:this.backgroundtype=="network"&&this.backgroundimage_network&&(n.backgroundImage=this.backgroundimage_network),!this.backgroundgradually&&(this.backgroundtype=="local"&&!this.backgroundimage_local||this.backgroundtype=="network"&&!this.backgroundimage_network)&&(n.backgroundImage=""),n.backgroundRepeat=this.backgroundrepeat,this.background_size===""?n.backgroundSize=this.background_custom:n.backgroundSize=this.background_size,n.backgroundPosition=this.backgroundposition,this.isPage?this.$emit("change",n):(e.setSelection(),Object.assign(this.options.selection.node.attrs,n),this.editor.options.onUpdate({editor:this.options.editor}),e.setSelection())},clearBg:function(){if(this.isPage)this.$emit("clear",{backgroundImage:"",backgroundColor:""});else{var e=this;e.setSelection(),Object.assign(this.options.selection.node.attrs,{backgroundImage:"",backgroundColor:""}),this.editor.options.onUpdate({editor:this.options.editor}),e.setSelection()}}}},lt={};var Ic=l(Fc,Rc,Ec,!1,Bc,null,null,null);function Bc(e){for(let n in lt)this[n]=lt[n]}var zc=function(){return Ic.exports}(),jc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-block-style",staticStyle:{width:"264px"}},[t("div",{staticClass:"ed-block-style-form"},[t("div",{staticClass:"er-editor-colors-item",staticStyle:{width:"18px",flex:"0 0 18px","margin-right":"10px"},on:{click:e.clearShadow}},[e._m(0)]),t("label",[e._v("\u65E0\u9634\u5F71")])]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u989C\u8272")]),t("div",[t("el-color-picker",{attrs:{"popper-class":"er-editor-popper",size:"mini","show-alpha":""},model:{value:e.shadowcolor,callback:function(i){e.shadowcolor=i},expression:"shadowcolor"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("x\u504F\u79FB")]),t("div",[t("el-slider",{attrs:{min:-100,max:100,size:"mini"},on:{change:e.setShadow},model:{value:e.shadowx,callback:function(i){e.shadowx=i},expression:"shadowx"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("y\u504F\u79FB")]),t("div",[t("el-slider",{attrs:{min:-100,max:100,size:"mini"},on:{change:e.setShadow},model:{value:e.shadowy,callback:function(i){e.shadowy=i},expression:"shadowy"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u6A21\u7CCA")]),t("div",[t("el-slider",{attrs:{size:"mini"},on:{change:e.setShadow},model:{value:e.shadowvague,callback:function(i){e.shadowvague=i},expression:"shadowvague"}})],1)]),t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u8DDD\u79BB")]),t("div",[t("el-slider",{attrs:{size:"mini"},on:{change:e.setShadow},model:{value:e.shadowspace,callback:function(i){e.shadowspace=i},expression:"shadowspace"}})],1)])])},Pc=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",{staticClass:"nocolor"},[t("i",{staticClass:"el-icon-check"})])}];const Dc={name:"edShadow",mixins:[L],data(){return{shadowcolor:"",shadowx:0,shadowy:0,shadowvague:0,shadowspace:0}},mounted:function(){this.init()},methods:{init(){this.setSelection(),setTimeout(()=>{var e=this.editor.view.state.selection,n=e.node;if(n){var t=n.type.name,i=this.editor.getAttributes(t),r=i.boxShadow;if(r){var o=r.split(" ");if(o.length==5){o[4];var s=o[0],c=o[1],a=o[2],d=o[3];this.shadowx=parseInt(s.replace("%","")),this.shadowy=parseInt(c.replace("%","")),this.shadowvague=parseInt(a.replace("%","")),this.shadowspace=parseInt(d.replace("%",""))}}}},100)},setShadow(e){var n=this.options.position,t=this.shadowx*n.width/100+"px "+this.shadowy*n.height/100+"px "+this.shadowvague*n.width/100+"px "+this.shadowspace*n.width/100+"px "+this.shadowcolor;this.setSelection(),Object.assign(this.options.selection.node.attrs,{boxShadow:t}),this.editor.options.onUpdate({editor:this.options.editor}),this.setSelection()},clearShadow(){this.setSelection(),Object.assign(this.options.selection.node.attrs,{boxShadow:""}),this.editor.options.onUpdate({editor:this.options.editor}),this.setSelection()}}},ct={};var Oc=l(Dc,jc,Pc,!1,Nc,null,null,null);function Nc(e){for(let n in ct)this[n]=ct[n]}var Vc=function(){return Oc.exports}(),qc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ed-padding",staticStyle:{width:"264px"}},[t("div",{staticClass:"ed-block-style-form"},[t("span",[e._v("\u8FB9\u8DDD")]),t("div",[t("el-input",{staticStyle:{width:"85px","margin-right":"10px","margin-bottom":"6px"},attrs:{size:"mini","prefix-icon":"el-icon-top"},on:{change:e.changePadding},model:{value:e.paddingTop,callback:function(i){e.paddingTop=i},expression:"paddingTop"}}),t("el-input",{staticStyle:{width:"85px","margin-bottom":"6px"},attrs:{size:"mini","prefix-icon":"el-icon-right"},on:{change:e.changePadding},model:{value:e.paddingRight,callback:function(i){e.paddingRight=i},expression:"paddingRight"}}),t("el-input",{staticStyle:{width:"85px","margin-right":"10px"},attrs:{size:"mini","prefix-icon":"el-icon-back"},on:{change:e.changePadding},model:{value:e.paddingLeft,callback:function(i){e.paddingLeft=i},expression:"paddingLeft"}}),t("el-input",{staticStyle:{width:"85px"},attrs:{size:"mini","prefix-icon":"el-icon-bottom"},on:{change:e.changePadding},model:{value:e.paddingBottom,callback:function(i){e.paddingBottom=i},expression:"paddingBottom"}})],1)])])},Uc=[];const Xc={name:"edPadding",mixins:[L],data(){return{paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0}},methods:{init:function(){this.setSelection();var e=this.editor.view.state.selection,n=e.node;if(n){var t=n.type.name,i=this.editor.getAttributes(t);this.paddingLeft=i.paddingLeft,this.paddingTop=i.paddingTop,this.paddingBottom=i.paddingBottom,this.paddingRight=i.paddingRight}},changePadding:function(){this.setSelection(),Object.assign(this.options.selection.node.attrs,{paddingLeft:this.paddingLeft,paddingTop:this.paddingTop,paddingBottom:this.paddingBottom,paddingRight:this.paddingRight}),this.editor.options.onUpdate({editor:this.options.editor}),this.setSelection()}}},dt={};var Wc=l(Xc,qc,Uc,!1,Yc,null,null,null);function Yc(e){for(let n in dt)this[n]=dt[n]}var Gc=function(){return Wc.exports}();let Jc=[Ct,zc,Vc,Gc];const St=function(e){Jc.forEach(function(n){e.component(n.name,n)})};typeof window!="undefined"&&window.Vue&&St(window.Vue);var Qc={install:St};const Zc={name:"edPopover",data(){return{dom:null,options:{},isactive:!1,left:"0px",top:"0px"}},created:function(){},render:function(e){var n={display:this.isactive?"block":"none",transform:"translate("+this.left+","+this.top+"px)"};return e("div",{class:"ed-popover-wrapper",style:n,on:{click:this.clickHandler}},[e("div",{class:"ed-popover"},[e("edMerger",{ref:"merger",props:{modules:this.options.modules||[],editor:this.options.editor,options:this.options}})])])},methods:{clickHandler:function(e){e.stopPropagation()},init(){this.$refs.merger.init()},open:function(e,n){this.dom=e,this.options=n;var t=this.options.editor.view.docView.nodeDOM;t.getBoundingClientRect();var i=this.dom?this.dom.getBoundingClientRect():null,r=i?i.left+i.width+this.options.x:0,o=i?i.top:0;o+(n.height||0)>window.innerHeight&&(o=window.innerHeight-(n.height||0));var s=window.innerWidth;r+270>s?this.left=r-310+"px":this.left=r+"px",this.top=o,this.isactive=!0,this.init()},close:function(){this.isactive=!1,this.$refs.merger.close()}}};let Kc,ed;const ut={};var td=l(Zc,Kc,ed,!1,nd,null,null,null);function nd(e){for(let n in ut)this[n]=ut[n]}var pt=function(){return td.exports}();let y=null;const id=function(e){e.component(pt.name,pt);var n=e.extend({props:{modules:{type:Array,default:function(){return[]}}},render:function(t){return t("edPopover",{ref:"popover"})},methods:{init(){this.$refs.popover.init()},open(t,i){this.$refs.popover.open(t,i)},close:function(){this.$refs.popover.close()}}});return{show:function(t,i){if(!y){var r=document.createElement("div");document.body.appendChild(r),y=new n({el:r,store:i.store})}y.open(t,i)},close:function(){y&&y.close()}}};const rd={name:"edFloatmenu",data(){return{isactive:!1,left:0,top:0,options:{}}},render:function(e){return e("div",{class:"ed-floatmenu-wrapper",style:{display:this.isactive?"block":"none",transform:"translate("+this.left+"px,"+this.top+"px)"},on:{click:this.clickHandler}},[e("div",{class:"ed-floatmenu"},[e("edMerger",{ref:"merger",props:{modules:this.options.modules||[],editor:this.options.editor||null,options:this.options}})])])},methods:{clickHandler:function(e){e.stopPropagation()},show:function(e){var n=e.editor.view.docView.nodeDOM,t=n.getBoundingClientRect(),i=t.left+t.width,r=e.position;this.left=r.left+r.width+10,this.left+40>i&&(this.left-=50),this.top=r.top+r.height/2,this.isactive=!0,this.options=e},close:function(){this.isactive=!1,this.$refs.merger.unactiveAll(),this.$edpopover.close()}}};let od,sd;const ht={};var ad=l(rd,od,sd,!1,ld,null,null,null);function ld(e){for(let n in ht)this[n]=ht[n]}var ft=function(){return ad.exports}();let x=null;const cd=function(e){e.component(ft.name,ft);var n=e.extend({render:function(t){return t("edFloatmenu",{ref:"floatmenu"})},methods:{open:function(t){this.$refs.floatmenu.show(t)},close:function(){this.$refs.floatmenu.close()}}});return{show:function(t){if(!x){var i=document.createElement("div");document.body.appendChild(i),x=new n({el:i,store:t.store})}x.open(t)},close:function(){x&&x.close()}}};var T={props:{editor:{type:Object,default:function(){return null}},options:{type:Object,default:function(){return{}}}},data(){return{isactive:!1}},methods:{clickHandler:function(e,n,t){this.$edpopover.close(),this.isactive?this.isactive=!1:(this.isactive=!0,this.$edpopover.show(e.currentTarget,{x:10,editor:this.editor,modules:n,selection:this.options.selection,position:this.options.position,height:t,store:this.$store}),this.$emit("active",this))},unactive:function(){this.isactive=!1}}},dd=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-rounded-corner",{active:e.isactive}],attrs:{title:"\u8FB9\u6846"},on:{click:function(i){return e.clickHandler(i,["edBlockStyle"],520)}}})},ud=[];const pd={name:"menuBlockStyle",mixins:[T]},vt={};var hd=l(pd,dd,ud,!1,fd,null,null,null);function fd(e){for(let n in vt)this[n]=vt[n]}var vd=function(){return hd.exports}(),gd=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-bring-forward",{active:e.isactive}],attrs:{title:"\u6295\u5F71"},on:{click:function(i){return e.clickHandler(i,["edShadow"],250)}}})},_d=[];const md={name:"menuShadow",mixins:[T]},gt={};var bd=l(md,gd,_d,!1,$d,null,null,null);function $d(e){for(let n in gt)this[n]=gt[n]}var kd=function(){return bd.exports}(),yd=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("i",{class:["editorIcon ed-paint-fill",{active:e.isactive}],attrs:{title:"\u80CC\u666F"},on:{click:function(i){return e.clickHandler(i,["edBackground","edPadding"],520)}}})},xd=[];const wd={name:"menuBackground",mixins:[T]},_t={};var Cd=l(wd,yd,xd,!1,Sd,null,null,null);function Sd(e){for(let n in _t)this[n]=_t[n]}var Hd=function(){return Cd.exports}(),Ad=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-popover",{attrs:{placement:"right",trigger:"click","popper-class":"ed-menu-ta-popover"},model:{value:e.visible,callback:function(i){e.visible=i},expression:"visible"}},[t("i",{staticClass:"editorIcon ed-align-left",attrs:{slot:"reference"},on:{click:e.clickaHandler},slot:"reference"}),t("div",{staticClass:"ed-menu-ta"},[t("i",{class:["editorIcon ed-align-left",{isActive:e.freePosition=="left"}],on:{click:function(i){return e.selectHandler("left")}}}),t("i",{class:["editorIcon ed-align-center",{isActive:e.freePosition=="center"}],on:{click:function(i){return e.selectHandler("center")}}}),t("i",{class:["editorIcon ed-align-right",{isActive:e.freePosition=="right"}],on:{click:function(i){return e.selectHandler("right")}}})])])},Md=[];const Ld={name:"menuTextalign",mixins:[T],data(){return{visible:!1}},computed:{freePosition:function(){var e=this.editor.getAttributes("free"),n="";return e&&(n=e.textAlign),n}},methods:{clickaHandler:function(){this.$edpopover.close()},selectHandler:function(e){this.editor.commands.setPosition(e),this.visible=!1}}},mt={};var Td=l(Ld,Ad,Md,!1,Rd,null,null,null);function Rd(e){for(let n in mt)this[n]=mt[n]}var Ed=function(){return Td.exports}(),Fd=[Jl,vd,kd,Hd,Ed];const Ht=function(e,n){e.prototype.$eddialog=ac(e),e.prototype.$edpopover=id(e),e.prototype.$floatmenu=cd(e),n&&typeof n=="object"&&(e.prototype.$ER_EDITOR=n),Fd.forEach(function(t){e.component(t.name,t)}),Qc.install(e)};typeof window!="undefined"&&window.Vue&&Ht(window.Vue);var Id={install:Ht};j.use(Id,{upload_auto:!0,upload_server:"/api/upload",uploadSuccess:function(e,n){},device:"smartphone"});j.use(Zt);new j({render:e=>e(sn)}).$mount("#app");
